<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/ljqnsn.io/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/ljqnsn.io/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/ljqnsn.io/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/ljqnsn.io/images/logo.svg" color="#222">

<link rel="stylesheet" href="/ljqnsn.io/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"ljqnsn.github.io","root":"/ljqnsn.io/","scheme":"Muse","version":"8.0.0-rc.5","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false};
  </script>

  <meta name="description" content="Linux系统1.正反斜杠知识正斜杠&#x2F; : 代表目录结构，层级，如 &#x2F;user &#x2F;local 反斜杠\ : 转义符，对当前的意义做转变，如\n  – 回车 2. Linux文件系统2.1 目录结构简介 &#x2F;lib 系统开机所需要最基本的动态连接共享库，其作用类似于windows里的 DLL 文件。几乎所有应用程序都需要用到这些共享库。  &#x2F; lost+found 这个目录一般下是空的，当系统非法关机">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux">
<meta property="og:url" content="https://ljqnsn.github.io/ljqnsn.io/2021/05/11/Linux/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Linux系统1.正反斜杠知识正斜杠&#x2F; : 代表目录结构，层级，如 &#x2F;user &#x2F;local 反斜杠\ : 转义符，对当前的意义做转变，如\n  – 回车 2. Linux文件系统2.1 目录结构简介 &#x2F;lib 系统开机所需要最基本的动态连接共享库，其作用类似于windows里的 DLL 文件。几乎所有应用程序都需要用到这些共享库。  &#x2F; lost+found 这个目录一般下是空的，当系统非法关机">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="c:/Users/HP/AppData/Roaming/Typora/typora-user-images/1606023851169.png">
<meta property="og:image" content="c:/Users/HP/AppData/Roaming/Typora/typora-user-images/1606302701425.png">
<meta property="article:published_time" content="2021-05-11T09:36:16.000Z">
<meta property="article:modified_time" content="2021-05-11T10:33:45.495Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="Linux及相关内容">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="c:/Users/HP/AppData/Roaming/Typora/typora-user-images/1606023851169.png">

<link rel="canonical" href="https://ljqnsn.github.io/ljqnsn.io/2021/05/11/Linux/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Linux | Hexo</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <main class="main">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
    </div>
  </div>

  <div class="site-meta">

    <a href="/ljqnsn.io/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Hexo</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
          <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Linux%E7%B3%BB%E7%BB%9F"><span class="nav-number">1.</span> <span class="nav-text">Linux系统</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#1-%E6%AD%A3%E5%8F%8D%E6%96%9C%E6%9D%A0%E7%9F%A5%E8%AF%86"><span class="nav-number">2.</span> <span class="nav-text">1.正反斜杠知识</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-Linux%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="nav-number">3.</span> <span class="nav-text">2. Linux文件系统</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E7%AE%80%E4%BB%8B"><span class="nav-number">3.1.</span> <span class="nav-text">2.1 目录结构简介</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-Linux%E4%B8%8B%E7%9A%84%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%E6%8C%87%E4%BB%A4"><span class="nav-number">4.</span> <span class="nav-text">3.Linux下的常用操作指令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-vi%E5%92%8Cvim%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="nav-number">4.1.</span> <span class="nav-text">3.1 vi和vim的基本介绍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-vi%E7%9A%84%E4%B8%89%E7%A7%8D%E6%A8%A1%E5%BC%8F"><span class="nav-number">4.2.</span> <span class="nav-text">3.2 vi的三种模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%9A%84%E6%93%8D%E4%BD%9C%E6%8C%87%E4%BB%A4-vi%E5%92%8CLinux"><span class="nav-number">4.3.</span> <span class="nav-text">3.3 一些常用的操作指令(vi和Linux)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-1-%E5%9C%A8-vi-%E6%A8%A1%E5%BC%8F%E5%A4%96%E7%9A%84%E7%95%8C%E9%9D%A2%EF%BC%8C%E5%8D%B3Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="nav-number">4.3.1.</span> <span class="nav-text">3.3.1 在 vi 模式外的界面，即Linux操作系统</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-2-%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%A8%A1%E5%BC%8F%E4%B8%8B"><span class="nav-number">4.3.2.</span> <span class="nav-text">3.3.2 命令行模式下</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-2-%E4%B8%80%E8%88%AC%E6%A8%A1%E5%BC%8F%E4%B8%8B-%E6%AD%A3%E5%B8%B8%E6%A8%A1%E5%BC%8F"><span class="nav-number">4.3.3.</span> <span class="nav-text">3.3.2 一般模式下(正常模式)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-4-Linux%E7%B3%BB%E7%BB%9F%E4%B8%8B%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95%E5%91%BD%E4%BB%A4-%E4%B9%9F%E9%80%82%E7%94%A8%E4%BA%8EGit%E4%B8%AD"><span class="nav-number">4.4.</span> <span class="nav-text">3.4  Linux系统下文件和目录命令(也适用于Git中)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-5Linux%E7%B3%BB%E7%BB%9F%E7%94%A8%E6%88%B7-%E7%94%A8%E6%88%B7%E7%BB%84-%E5%8E%8B%E7%BC%A9%E7%9A%84%E5%91%BD%E4%BB%A4"><span class="nav-number">4.5.</span> <span class="nav-text">3.5Linux系统用户&#x2F;用户组&#x2F;压缩的命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-1%E5%85%B3%E6%9C%BA-amp-%E9%87%8D%E5%90%AF%E5%91%BD%E4%BB%A4"><span class="nav-number">4.5.1.</span> <span class="nav-text">3.5.1关机&amp;重启命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-2-%E7%94%A8%E6%88%B7%E7%9A%84%E7%99%BB%E5%BD%95%E5%92%8C%E6%B3%A8%E9%94%80"><span class="nav-number">4.5.2.</span> <span class="nav-text">3.5.2 用户的登录和注销</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-3%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86"><span class="nav-number">4.5.3.</span> <span class="nav-text">3.5.3用户管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-4%E7%94%A8%E6%88%B7%E7%BB%84%E7%AE%A1%E7%90%86"><span class="nav-number">4.5.4.</span> <span class="nav-text">3.5.4用户组管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-5%E5%8E%8B%E7%BC%A9%E5%92%8C%E8%A7%A3%E5%8E%8B%E7%BC%A9"><span class="nav-number">4.5.5.</span> <span class="nav-text">3.5.5压缩和解压缩</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90"><span class="nav-number">4.5.6.</span> <span class="nav-text">3.6文件权限</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-shell%E7%BC%96%E7%A8%8B"><span class="nav-number">5.</span> <span class="nav-text">4.shell编程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#4-1-%E5%AE%9A%E4%B9%89%E7%94%A8%E6%B3%95"><span class="nav-number">5.1.</span> <span class="nav-text">4.1 定义用法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-1-%E7%AC%AC%E4%B8%80%E4%B8%AA%E8%84%9A%E6%9C%AC"><span class="nav-number">5.1.1.</span> <span class="nav-text">4.1.1 第一个脚本</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-2-shell%E5%8F%98%E9%87%8F-%E4%B8%80%E4%BA%9B%E7%90%86%E8%A7%A3"><span class="nav-number">5.2.</span> <span class="nav-text">4.2 shell变量(一些理解)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-1-%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="nav-number">5.2.1.</span> <span class="nav-text">4.2.1 定义变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-2%E4%BD%BF%E7%94%A8%E5%8F%98%E9%87%8F"><span class="nav-number">5.2.2.</span> <span class="nav-text">4.2.2使用变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-3-%E6%B3%A8%E9%87%8A"><span class="nav-number">5.2.3.</span> <span class="nav-text">4.2.3 注释</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-4%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="nav-number">5.2.4.</span> <span class="nav-text">4.2.4设置环境变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-5%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0"><span class="nav-number">5.2.5.</span> <span class="nav-text">4.2.5传递参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-6-%E5%9F%BA%E6%9C%AC%E7%AE%97%E6%95%B0%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">5.2.6.</span> <span class="nav-text">4.2.6 基本算数运算符</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-3-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5"><span class="nav-number">5.3.</span> <span class="nav-text">4.3 流程控制语句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-1%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">5.3.1.</span> <span class="nav-text">4.3.1关系运算符</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-3-1-1%E6%95%B0%E5%AD%97%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">5.3.1.1.</span> <span class="nav-text">4.3.1.1数字关系运算符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-2%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">5.3.1.2.</span> <span class="nav-text">4.1.2字符串关系运算符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-3%E6%96%87%E4%BB%B6%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">5.3.1.3.</span> <span class="nav-text">4.1.3文件关系运算符</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-2-if%E8%AF%AD%E5%8F%A5"><span class="nav-number">5.3.2.</span> <span class="nav-text">4.3.2 if语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#if-else"><span class="nav-number">5.3.3.</span> <span class="nav-text">if else</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#if-else-if-else"><span class="nav-number">5.3.4.</span> <span class="nav-text">if else-if else</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-3-case%E8%AF%AD%E6%B3%95"><span class="nav-number">5.3.5.</span> <span class="nav-text">4.3.3 case语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-4-for%E5%BE%AA%E7%8E%AF"><span class="nav-number">5.3.6.</span> <span class="nav-text">4.3.4 for循环</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">6.</span> <span class="nav-text">5.数据库</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#5-1%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8A%9F%E8%83%BD"><span class="nav-number">6.1.</span> <span class="nav-text">5.1数据库功能</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-2%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8E%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F"><span class="nav-number">6.2.</span> <span class="nav-text">5.2数据库与应用程序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-3%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%86%E7%B1%BB"><span class="nav-number">6.3.</span> <span class="nav-text">5.3数据库分类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-1%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">6.3.1.</span> <span class="nav-text">5.3.1关系型数据库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-2%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">6.3.2.</span> <span class="nav-text">5.3.2非关系型数据库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-4%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A-DB-DBMS-DBA-DBS"><span class="nav-number">6.3.3.</span> <span class="nav-text">5.4名词解释 DB\DBMS\DBA\DBS</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-5%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E4%BE%8B%EF%BC%8C%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6%EF%BC%8C%E8%A1%A8%E7%A9%BA%E9%97%B4%E5%92%8C%E7%94%A8%E6%88%B7"><span class="nav-number">6.4.</span> <span class="nav-text">5.5数据库实例，数据文件，表空间和用户</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E4%BE%8B"><span class="nav-number">6.4.1.</span> <span class="nav-text">1.数据库实例</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#6-SQL-%E7%BB%93%E6%9E%84%E5%8C%96%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80"><span class="nav-number">7.</span> <span class="nav-text">6.SQL(结构化查询语言)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#6-1SQL%E7%AE%80%E4%BB%8B"><span class="nav-number">7.1.</span> <span class="nav-text">6.1SQL简介</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-1SQL%E6%98%AF%E4%BB%80%E4%B9%88"><span class="nav-number">7.1.1.</span> <span class="nav-text">6.1.1SQL是什么</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-2SQL%E8%83%BD%E5%81%9A%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="nav-number">7.1.2.</span> <span class="nav-text">6.1.2SQL能做什么？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-3%E6%80%8E%E4%B9%88%E4%BD%BF%E7%94%A8SQL"><span class="nav-number">7.1.3.</span> <span class="nav-text">6.1.3怎么使用SQL</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-2%E7%AE%80%E5%8D%95%E7%9A%84SQL%E8%AF%AD%E5%8F%A5"><span class="nav-number">7.2.</span> <span class="nav-text">6.2简单的SQL语句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-2-1%E6%9F%A5%E8%AF%A2%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F"><span class="nav-number">7.2.1.</span> <span class="nav-text">6.2.1查询语法格式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-2-2%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5"><span class="nav-number">7.2.2.</span> <span class="nav-text">6.2.2查询语句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E6%9F%A5%E8%AF%A2%E5%85%A8%E9%83%A8%E5%88%97"><span class="nav-number">7.2.2.1.</span> <span class="nav-text">1.查询全部列</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E6%9F%A5%E8%AF%A2%E9%83%A8%E5%88%86%E5%88%97"><span class="nav-number">7.2.2.2.</span> <span class="nav-text">2.查询部分列</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%B8%A6%E6%9D%A1%E4%BB%B6%E7%9A%84%E6%9F%A5%E8%AF%A2"><span class="nav-number">7.2.2.3.</span> <span class="nav-text">3.带条件的查询</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E5%B8%A6%E6%9D%A1%E4%BB%B6%E7%9A%84%E6%9F%A5%E8%AF%A2"><span class="nav-number">7.2.2.4.</span> <span class="nav-text">4.带条件的查询</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%E7%BB%99%E6%95%B0%E6%8D%AE%E5%88%97%E5%8F%96%E5%88%AB%E5%90%8D"><span class="nav-number">7.2.2.5.</span> <span class="nav-text">5.给数据列取别名</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-%E8%BF%9E%E6%8E%A5%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">7.2.2.6.</span> <span class="nav-text">6.连接运算符 ||</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-%E5%8E%BB%E9%99%A4%E9%87%8D%E5%A4%8D%E8%A1%8Cdistinct"><span class="nav-number">7.2.2.7.</span> <span class="nav-text">8.去除重复行distinct</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-%E6%8E%92%E5%BA%8F-asc%E5%8D%87%E5%BA%8F%EF%BC%8C-desc%E9%99%8D%E5%BA%8F"><span class="nav-number">7.2.2.8.</span> <span class="nav-text">9.排序 asc升序， desc降序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE%EF%BC%9A"><span class="nav-number">7.2.2.9.</span> <span class="nav-text">10.插入数据：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6-gt-lt-or-lt-gt-between-and"><span class="nav-number">7.2.2.10.</span> <span class="nav-text">11.比较运算符&#x3D;  &gt;&lt;(!&#x3D; or &lt;&gt;) between and</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#12-%E2%80%93-in%E6%93%8D%E4%BD%9Cnot-in"><span class="nav-number">7.2.2.11.</span> <span class="nav-text">12.– in操作not in</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2like"><span class="nav-number">7.2.2.12.</span> <span class="nav-text">13.模糊查询like _ %</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-4%E6%9B%B4%E6%96%B0%E8%AF%AD%E5%8F%A5%EF%BC%88update%EF%BC%89"><span class="nav-number">7.2.3.</span> <span class="nav-text">6.4更新语句（update）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-5%E5%88%A0%E9%99%A4delete%E8%AF%AD%E5%8F%A5"><span class="nav-number">7.2.4.</span> <span class="nav-text">6.5删除delete语句</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-3-SQL%E5%87%BD%E6%95%B0"><span class="nav-number">7.3.</span> <span class="nav-text">6.3 SQL函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-SQL%E5%AD%97%E7%AC%A6%E5%87%BD%E6%95%B0"><span class="nav-number">7.3.1.</span> <span class="nav-text">1.SQL字符函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-upper"><span class="nav-number">7.3.1.1.</span> <span class="nav-text">1.upper</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-lower"><span class="nav-number">7.3.1.2.</span> <span class="nav-text">2.lower</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-concat"><span class="nav-number">7.3.1.3.</span> <span class="nav-text">3.concat</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-substr"><span class="nav-number">7.3.1.4.</span> <span class="nav-text">4.substr</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-length"><span class="nav-number">7.3.1.5.</span> <span class="nav-text">5.length</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-replace"><span class="nav-number">7.3.1.6.</span> <span class="nav-text">6.replace</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-instr"><span class="nav-number">7.3.1.7.</span> <span class="nav-text">7.instr</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-trim"><span class="nav-number">7.3.1.8.</span> <span class="nav-text">8.trim</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-SQL%E6%95%B0%E5%80%BC%E5%87%BD%E6%95%B0"><span class="nav-number">7.3.2.</span> <span class="nav-text">2.SQL数值函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-round"><span class="nav-number">7.3.2.1.</span> <span class="nav-text">1.round</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-mod"><span class="nav-number">7.3.2.2.</span> <span class="nav-text">2.mod</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-ceil"><span class="nav-number">7.3.2.3.</span> <span class="nav-text">3.ceil</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-floor"><span class="nav-number">7.3.2.4.</span> <span class="nav-text">4.floor</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E8%BD%AC%E6%8D%A2%E5%87%BD%E6%95%B0"><span class="nav-number">7.3.3.</span> <span class="nav-text">3.转换函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-to-char"><span class="nav-number">7.3.3.1.</span> <span class="nav-text">1.to_char</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-to-number"><span class="nav-number">7.3.3.2.</span> <span class="nav-text">2.to_number</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-to-date"><span class="nav-number">7.3.3.3.</span> <span class="nav-text">3.to_date</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E6%97%B6%E9%97%B4%E5%87%BD%E6%95%B0"><span class="nav-number">7.3.4.</span> <span class="nav-text">4.时间函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E8%8E%B7%E5%8F%96%E6%97%B6%E9%97%B4%E7%9A%84%E5%87%BD%E6%95%B0"><span class="nav-number">7.3.4.1.</span> <span class="nav-text">1.获取时间的函数</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0"><span class="nav-number">7.3.5.</span> <span class="nav-text">5.日期函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-months-between"><span class="nav-number">7.3.5.1.</span> <span class="nav-text">1.months_between</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-add-months"><span class="nav-number">7.3.5.2.</span> <span class="nav-text">2.add_months</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-next-day"><span class="nav-number">7.3.5.3.</span> <span class="nav-text">3.next_day</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-last-day"><span class="nav-number">7.3.5.4.</span> <span class="nav-text">4.last_day</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E9%80%9A%E7%94%A8%E5%87%BD%E6%95%B0-%E9%80%89%E6%8B%A9"><span class="nav-number">7.3.6.</span> <span class="nav-text">6.通用函数(选择)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-nvl"><span class="nav-number">7.3.6.1.</span> <span class="nav-text">1.nvl</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-nvl2"><span class="nav-number">7.3.6.2.</span> <span class="nav-text">2.nvl2</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-coalesce-%E5%90%88%E5%B9%B6"><span class="nav-number">7.3.6.3.</span> <span class="nav-text">3.coalesce(合并)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-case%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">7.3.6.4.</span> <span class="nav-text">4.case表达式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-decode"><span class="nav-number">7.3.6.5.</span> <span class="nav-text">5.decode</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-%E5%88%86%E7%BB%84%E5%87%BD%E6%95%B0%EF%BC%88%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%EF%BC%89"><span class="nav-number">7.3.7.</span> <span class="nav-text">7.分组函数（聚合函数）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-count"><span class="nav-number">7.3.7.1.</span> <span class="nav-text">1.count</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-avg"><span class="nav-number">7.3.7.2.</span> <span class="nav-text">2.avg</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-max"><span class="nav-number">7.3.7.3.</span> <span class="nav-text">3.max</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-min"><span class="nav-number">7.3.7.4.</span> <span class="nav-text">4.min</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-sum"><span class="nav-number">7.3.7.5.</span> <span class="nav-text">5.sum</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-%E6%80%BB%E7%BB%93"><span class="nav-number">7.3.7.6.</span> <span class="nav-text">6.总结</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-%E5%88%86%E7%BB%84%E5%AD%90%E5%8F%A5"><span class="nav-number">7.3.8.</span> <span class="nav-text">8.分组子句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-group-by%E5%AD%90%E5%8F%A5"><span class="nav-number">7.3.8.1.</span> <span class="nav-text">1.group by子句</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-having-%E5%AD%90%E5%8F%A5"><span class="nav-number">7.3.8.2.</span> <span class="nav-text">2.having 子句</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E6%80%BB%E7%BB%93"><span class="nav-number">7.3.8.3.</span> <span class="nav-text">3.总结</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-4%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="nav-number">7.4.</span> <span class="nav-text">6.4多表查询</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E7%AC%9B%E5%8D%A1%E5%B0%94%E7%A7%AF%E7%9A%84%E9%97%AE%E9%A2%98-%E7%AD%89%E5%80%BC%E6%9F%A5%E8%AF%A2"><span class="nav-number">7.4.1.</span> <span class="nav-text">1.笛卡尔积的问题(等值查询)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E9%9D%9E%E7%AD%89%E5%80%BC%E6%9F%A5%E8%AF%A2"><span class="nav-number">7.4.2.</span> <span class="nav-text">2.非等值查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E8%AF%AD%E6%B3%95%EF%BC%9A"><span class="nav-number">7.4.2.1.</span> <span class="nav-text">1.语法：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E8%87%AA%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="nav-number">7.4.3.</span> <span class="nav-text">3.自连接查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E4%BE%8B%E5%AD%90"><span class="nav-number">7.4.3.1.</span> <span class="nav-text">1.例子</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%86%85%E8%BF%9E%E6%8E%A5"><span class="nav-number">7.4.4.</span> <span class="nav-text">4.内连接</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E4%BE%8B%E5%AD%90%EF%BC%8C%E4%B8%A4%E4%B8%AA%E7%AD%89%E6%95%88"><span class="nav-number">7.4.4.1.</span> <span class="nav-text">1.例子，两个等效</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="nav-number">7.4.5.</span> <span class="nav-text">5.外连接</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%B7%A6%E8%BF%9E%E6%8E%A5%EF%BC%88%E5%B7%A6%E5%A4%96%E8%BF%9E%E6%8E%A5%EF%BC%89"><span class="nav-number">7.4.5.1.</span> <span class="nav-text">1.左连接（左外连接）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%8F%B3%E8%BF%9E%E6%8E%A5-%E5%8F%B3%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="nav-number">7.4.5.2.</span> <span class="nav-text">2.右连接(右外连接)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%85%A8%E8%BF%9E%E6%8E%A5-full-join"><span class="nav-number">7.4.5.3.</span> <span class="nav-text">3.全连接(full join)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E6%80%BB%E7%BB%93"><span class="nav-number">7.4.5.4.</span> <span class="nav-text">4.总结</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C"><span class="nav-number">7.4.6.</span> <span class="nav-text">6.集合操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-union%EF%BC%88%E5%B9%B6%E9%9B%86U%EF%BC%89"><span class="nav-number">7.4.6.1.</span> <span class="nav-text">1.union（并集U）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-union-all"><span class="nav-number">7.4.6.2.</span> <span class="nav-text">2.union all</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-intersect-%E4%BA%A4%E9%9B%86"><span class="nav-number">7.4.6.3.</span> <span class="nav-text">3.intersect 交集</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-minus-%E5%B7%AE%E9%9B%86"><span class="nav-number">7.4.6.4.</span> <span class="nav-text">4.minus 差集</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-%E5%AD%90%E6%9F%A5%E8%AF%A2-%E5%B5%8C%E5%A5%97%E6%9F%A5%E8%AF%A2"><span class="nav-number">7.4.7.</span> <span class="nav-text">7.子查询(嵌套查询)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E7%AE%80%E5%8D%95%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%9A"><span class="nav-number">7.4.7.1.</span> <span class="nav-text">1.简单子查询：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%8D%95%E8%A1%8C%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="nav-number">7.4.7.2.</span> <span class="nav-text">2.单行子查询</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%A4%9A%E8%A1%8C%E5%AD%90%E6%9F%A5%E8%AF%A2-in"><span class="nav-number">7.4.7.3.</span> <span class="nav-text">3.多行子查询(in)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E5%AD%90%E6%9F%A5%E8%AF%A2%E6%B2%A1%E6%9C%89%E8%BF%94%E5%9B%9E%E5%80%BC%E7%9A%84%E6%83%85%E5%86%B5"><span class="nav-number">7.4.7.4.</span> <span class="nav-text">4.子查询没有返回值的情况</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-any"><span class="nav-number">7.4.7.5.</span> <span class="nav-text">5.any</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-all"><span class="nav-number">7.4.7.6.</span> <span class="nav-text">6.all</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-%E7%9B%B8%E5%85%B3%E5%AD%90%E6%9F%A5%E8%AF%A2-%E5%85%B3%E8%81%94%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="nav-number">7.4.7.7.</span> <span class="nav-text">7.相关子查询(关联子查询)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-topN"><span class="nav-number">7.4.8.</span> <span class="nav-text">8.topN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-exists"><span class="nav-number">7.4.9.</span> <span class="nav-text">10.exists</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1"><span class="nav-number">7.5.</span> <span class="nav-text">7.数据库设计</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E7%9A%84%E6%AD%A5%E9%AA%A4"><span class="nav-number">7.5.1.</span> <span class="nav-text">1.数据库设计的步骤</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90"><span class="nav-number">7.5.1.1.</span> <span class="nav-text">1.需求分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E6%A6%82%E8%A6%81%E8%AE%BE%E8%AE%A1"><span class="nav-number">7.5.1.2.</span> <span class="nav-text">2.概要设计</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E8%AF%A6%E7%BB%86%E8%AE%BE%E8%AE%A1%EF%BC%88%E4%B8%89%E8%8C%83%E5%BC%8F%EF%BC%89"><span class="nav-number">7.5.1.3.</span> <span class="nav-text">3.详细设计（三范式）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">7.5.2.</span> <span class="nav-text">2.数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E6%95%B0%E5%AD%97%E7%B1%BB%E5%9E%8Bnumber"><span class="nav-number">7.5.2.1.</span> <span class="nav-text">1.数字类型number</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-alter%E2%80%93add"><span class="nav-number">7.5.2.2.</span> <span class="nav-text">2.alter–add</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-rename"><span class="nav-number">7.5.2.3.</span> <span class="nav-text">3.rename</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-modify"><span class="nav-number">7.5.2.4.</span> <span class="nav-text">4.modify</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-drop"><span class="nav-number">7.5.2.5.</span> <span class="nav-text">5.drop</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-comment-on%EF%BC%88%E6%B7%BB%E5%8A%A0%E6%B3%A8%E9%87%8A%EF%BC%89"><span class="nav-number">7.5.2.6.</span> <span class="nav-text">6.comment on（添加注释）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-%E6%B7%BB%E5%8A%A0%E8%A1%A8%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E8%81%94"><span class="nav-number">7.5.2.7.</span> <span class="nav-text">7.添加表之间的关联</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8"><span class="nav-number">7.5.3.</span> <span class="nav-text">4.数据字典</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-all-tables"><span class="nav-number">7.5.3.1.</span> <span class="nav-text">1. all_tables</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-all-tab-columns"><span class="nav-number">7.5.3.2.</span> <span class="nav-text">2. all_tab_columns</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-merge"><span class="nav-number">7.6.</span> <span class="nav-text">8.merge</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-merge-into-%E5%90%88%E5%B9%B6"><span class="nav-number">7.6.1.</span> <span class="nav-text">1.merge into (合并)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-%E7%BA%A6%E6%9D%9F"><span class="nav-number">7.7.</span> <span class="nav-text">9.约束</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F-Primay-Key-Coustraint"><span class="nav-number">7.7.1.</span> <span class="nav-text">1.主键约束(Primay Key Coustraint)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%88%A0%E9%99%A4%E7%BA%A6%E6%9D%9F"><span class="nav-number">7.7.2.</span> <span class="nav-text">2.删除约束</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E6%A3%80%E6%9F%A5%E7%BA%A6%E6%9D%9F-Check-Counstraint"><span class="nav-number">7.7.3.</span> <span class="nav-text">3.检查约束(Check Counstraint)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F-Unique-Counstraint"><span class="nav-number">7.7.4.</span> <span class="nav-text">4.唯一约束(Unique Counstraint)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E9%BB%98%E8%AE%A4%E7%BA%A6%E6%9D%9F-Default-Counstraint"><span class="nav-number">7.7.5.</span> <span class="nav-text">5.默认约束(Default Counstraint)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F-Foreign-Key-Counstraint"><span class="nav-number">7.7.6.</span> <span class="nav-text">6.外键约束(Foreign Key Counstraint)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-%E7%94%A8%E6%88%B7%E6%93%8D%E4%BD%9C"><span class="nav-number">7.8.</span> <span class="nav-text">10.用户操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7"><span class="nav-number">7.8.1.</span> <span class="nav-text">1.创建用户</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E6%8E%88%E4%BA%88%E6%9D%83%E9%99%90"><span class="nav-number">7.8.2.</span> <span class="nav-text">2.授予权限</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E8%A7%92%E8%89%B2"><span class="nav-number">7.8.3.</span> <span class="nav-text">3.角色</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E8%B7%A8%E8%A1%A8%E6%9D%83%E9%99%90%E6%8E%88%E4%BA%88"><span class="nav-number">7.8.4.</span> <span class="nav-text">4.跨表权限授予</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E6%9D%83%E9%99%90%E6%94%B6%E5%9B%9E"><span class="nav-number">7.8.5.</span> <span class="nav-text">5.权限收回</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E5%88%A0%E9%99%A4%E8%B4%A6%E6%88%B7"><span class="nav-number">7.8.6.</span> <span class="nav-text">6.删除账户</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-%E8%A7%86%E5%9B%BE"><span class="nav-number">7.9.</span> <span class="nav-text">11.视图</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E8%A7%86%E5%9B%BE%E7%9A%84%E5%A5%BD%E5%A4%84"><span class="nav-number">7.9.1.</span> <span class="nav-text">1.视图的好处</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%88%9B%E5%BB%BA%E8%A7%86%E5%9B%BE%E6%9D%83%E9%99%90"><span class="nav-number">7.9.2.</span> <span class="nav-text">2.创建视图权限</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%88%9B%E5%BB%BA%E8%A7%86%E5%9B%BE"><span class="nav-number">7.9.3.</span> <span class="nav-text">3.创建视图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E8%A7%86%E5%9B%BE%E6%9F%A5%E8%AF%A2"><span class="nav-number">7.9.4.</span> <span class="nav-text">4.视图查询</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%88%AB%E5%90%8D"><span class="nav-number">7.9.5.</span> <span class="nav-text">4.别名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E5%88%A0%E9%99%A4"><span class="nav-number">7.9.6.</span> <span class="nav-text">5.删除</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E6%96%B0%E5%A2%9E"><span class="nav-number">7.9.7.</span> <span class="nav-text">6.新增</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-%E5%88%A0%E9%99%A4%E8%A7%86%E5%9B%BE"><span class="nav-number">7.9.8.</span> <span class="nav-text">8.删除视图</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-%E7%B4%A2%E5%BC%95"><span class="nav-number">7.10.</span> <span class="nav-text">12.索引</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-%E4%BA%8B%E5%8A%A1"><span class="nav-number">7.11.</span> <span class="nav-text">13.事务</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%90%AB%E4%B9%89"><span class="nav-number">7.11.1.</span> <span class="nav-text">1.含义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E7%89%B9%E5%BE%81"><span class="nav-number">7.11.2.</span> <span class="nav-text">2.特征</span></a></li></ol></li></ol></li></ol></div>
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/ljqnsn.io/archives">
          <span class="site-state-item-count">4</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </section>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </header>

      
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div id="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


      <div class="main-inner">
        

        <div class="content post posts-expand">
          

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://ljqnsn.github.io/ljqnsn.io/2021/05/11/Linux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/ljqnsn.io/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Linux
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-05-11 17:36:16 / Modified: 18:33:45" itemprop="dateCreated datePublished" datetime="2021-05-11T17:36:16+08:00">2021-05-11</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="Linux系统"><a href="#Linux系统" class="headerlink" title="Linux系统"></a>Linux系统</h1><h1 id="1-正反斜杠知识"><a href="#1-正反斜杠知识" class="headerlink" title="1.正反斜杠知识"></a><strong>1.正反斜杠知识</strong></h1><p>正斜杠/ : 代表目录结构，层级，如 /user /local</p>
<p>反斜杠\ : 转义符，对当前的意义做转变，如\n  – 回车</p>
<h1 id="2-Linux文件系统"><a href="#2-Linux文件系统" class="headerlink" title="2. Linux文件系统"></a><strong>2. Linux文件系统</strong></h1><h2 id="2-1-目录结构简介"><a href="#2-1-目录结构简介" class="headerlink" title="2.1 目录结构简介"></a>2.1 目录结构简介</h2><ol>
<li><p>/lib</p>
<p>系统开机所需要最基本的动态连接共享库，其作用类似于windows里的 DLL 文件。几乎所有应用程序都需要用到这些共享库。</p>
</li>
<li><p>/ lost+found</p>
<p>这个目录一般下是空的，当系统非法关机后，这里就存放了一些文件。</p>
</li>
<li><p><strong>/etc</strong> </p>
<p>所有的系统管理所需要的配置文件和子目录。</p>
</li>
<li><p><strong>/usr</strong></p>
<p>用户的很多自行安装的应用程序和文件都放在这个目录下，类似于Windows下的program files目录。</p>
</li>
<li><p>/proc</p>
<p>这个目录是一个虚拟的目录，他是系统的映射，访问这个目录来获取系统的信息。</p>
</li>
<li><p><strong>/boot</strong></p>
<p>存放的是启动Linux时使用的一些核心文件，包括一些连接文件以及镜像文件。</p>
</li>
<li><p>/srv</p>
<p>service缩写，该目录存放一些服务启动之后需要提取的数据。</p>
</li>
<li><p>/tmp</p>
<p>这个目录是用来存放一些临时文件的。</p>
</li>
<li><p>/dev</p>
<p>类似Windows的设别管理器，把所有的硬件用文件的形式存储。</p>
</li>
<li><p><strong>/media</strong></p>
<p>Linux系统会自动识别一些设备，例如U盘，光驱等等，当识别后会把识别的设备挂在这个目录下。</p>
</li>
<li><p><strong>/mnt</strong></p>
<p>系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将外部的存储挂载在/mnt/上，然后进入该目录就可以查看里面的内容了。</p>
</li>
<li><p><strong>/opt</strong></p>
<p>该目录下一般保存使用命令的方式在线安装的软件。</p>
</li>
<li><p><strong>/user/local</strong></p>
<p>该目录下一般保存手动安装的本的软件和其他文件，用户自己编译的软件默认也会安装到这个目录下。</p>
</li>
<li><p><strong>/var/</strong></p>
<p>这个目录中存放着在不断扩充着的东西，习惯将经常被修改的目录放在这个目录下。包括各种日志文件。</p>
</li>
</ol>
<h1 id="3-Linux下的常用操作指令"><a href="#3-Linux下的常用操作指令" class="headerlink" title="3.Linux下的常用操作指令"></a><strong>3.Linux下的常用操作指令</strong></h1><h2 id="3-1-vi和vim的基本介绍"><a href="#3-1-vi和vim的基本介绍" class="headerlink" title="3.1 vi和vim的基本介绍"></a>3.1 vi和vim的基本介绍</h2><p>​         vi是Linux系统内建的文本编辑器，类似于Windows下的文本，vim可以看做是vi的增强版本，可以进行编程语言的语法着色，方便程序设计</p>
<h2 id="3-2-vi的三种模式"><a href="#3-2-vi的三种模式" class="headerlink" title="3.2 vi的三种模式"></a>3.2 vi的三种模式</h2><ol>
<li><p><strong>一般模式</strong></p>
<p>通过 vi 打开一个档案就直接进入一般模式了(这是默认的模式)。在这个模式中，可以使用【上下左右】光标按键来移动光标，以使用【删除字符】或【删除整行】来处理档案内容。也可以使用【复制，粘贴】来处理文件数据。不知道哪个模式可按下【ESC】键会进入一般模式。</p>
</li>
<li><p><strong>插入模式（编辑模式）</strong></p>
<p>在一般模式下按下i, l, o, O, a, A, r, R 等任何一个字母按键后，会进入编辑模式，一般来说按 i 键即可。</p>
</li>
<li><p><strong>命令行模式</strong></p>
<p>在这个模式中，可以输入相关指令，完成读取，存盘，替换，离开vi，显示行号等功能。在一般模式下按下【SHIFT】键 <strong>+</strong> 冒号键【:】可进入命令行模式。(如不按shift键则会默认是分号【;】键)。在该模式下输入【q】会退出 vi 编辑器，输入【wq】会将编辑的文本保存后退出，输入【q！】表示强制退出。</p>
</li>
</ol>
<h2 id="3-3-一些常用的操作指令-vi和Linux"><a href="#3-3-一些常用的操作指令-vi和Linux" class="headerlink" title="3.3 一些常用的操作指令(vi和Linux)"></a>3.3 一些常用的操作指令(vi和Linux)</h2><h3 id="3-3-1-在-vi-模式外的界面，即Linux操作系统"><a href="#3-3-1-在-vi-模式外的界面，即Linux操作系统" class="headerlink" title="3.3.1 在 vi 模式外的界面，即Linux操作系统"></a>3.3.1 在 vi 模式外的界面，即Linux操作系统</h3><ul>
<li><p>输入【clear】表示清屏</p>
</li>
<li><p>输入【vi】表示进入 vi 模式</p>
</li>
<li><p>输入【vi  test.txt】表示进入vi模式并创建一个叫做test的txt文本。</p>
</li>
<li><p>输入【cat  test.txt】表示查看test.txt的内容</p>
</li>
<li><p>输入【vi  /etc/profile】表示进入vi模式编辑/etc/profile文件</p>
</li>
</ul>
<h3 id="3-3-2-命令行模式下"><a href="#3-3-2-命令行模式下" class="headerlink" title="3.3.2 命令行模式下"></a>3.3.2 命令行模式下</h3><ul>
<li><p>输入【set nu】显示行号</p>
</li>
<li><p>输入【set nonu】表示不显示行号</p>
</li>
<li><p>输入【30】表示光标到第30行</p>
</li>
<li><p>输入【/关键词】+ 回车  可以从光标所在行往下开始查找该关键词（最后会从首行往下），继续输入n就是查找下一个</p>
</li>
</ul>
<h3 id="3-3-2-一般模式下-正常模式"><a href="#3-3-2-一般模式下-正常模式" class="headerlink" title="3.3.2 一般模式下(正常模式)"></a>3.3.2 一般模式下(正常模式)</h3><ul>
<li><p>按下【G】光标会直接移动到最后一行 </p>
</li>
<li><p>按下【yy】表示复制光标所在的一行，</p>
</li>
<li><p>按下【5yy】表示拷贝光标当前行向下的5行，</p>
</li>
<li><p>按下【p】**(小写的p)<strong>把剪贴板的内容粘贴到当前光标行的下一行(**大写的</strong>【P】会把内容粘贴到当前光标行的上一行)。</p>
</li>
<li><p>按下【dd】表示删除光标所在的那一行，按下【5dd】删除当前行向下的5行</p>
</li>
<li><p>按下【u】表示撤销上一次的操作</p>
</li>
</ul>
<h2 id="3-4-Linux系统下文件和目录命令-也适用于Git中"><a href="#3-4-Linux系统下文件和目录命令-也适用于Git中" class="headerlink" title="3.4  Linux系统下文件和目录命令(也适用于Git中)"></a>3.4  Linux系统下文件和目录命令(也适用于Git中)</h2><ol>
<li><p>输入【pwd】查看当前用户工作目录的绝对路径</p>
</li>
<li><p>【ls】查看当前目录下的文件</p>
<ul>
<li>【ls  -a】查看所有当前目录下的文件，包括普通文件，文件夹和隐藏的文件夹</li>
<li>【.】代表当前目录。【..】代表上级目录</li>
<li>【ls  -l】以详细列表的方式查看当前目录下的文件，缩写为【ll】，可在别的目录下通过输入【ll  文件夹的路径来临时查看该文件夹的信息</li>
</ul>
</li>
<li><p>【cd】进入选定的文件夹目录</p>
<ul>
<li>【cd  ..】退回当前路径的上级目录</li>
<li>【cd  ~】切换到当前用户的home目录</li>
<li>【cd  /】切换到系统的根目录</li>
<li>【cd  文件夹目录路径】进入到该文件夹目录，若没有这个目录，会给出相应的提示。</li>
</ul>
</li>
<li><p>【mkdir】（make dir）创建目录（文件夹）</p>
<ul>
<li><p>【mkdir  music】在当前目录下创建子目录music</p>
</li>
<li><p>【mkdir  /root/movie】在root目录下创建目录movie</p>
</li>
<li><p>递归创建子目录(级联创建子目录)</p>
<p>如：【mkdir  -p  /root/doc/day2】，在root下面，如果没有doc目录，则先创建doc目录，然后再在doc下创建day2目录</p>
</li>
</ul>
</li>
<li><p>【rmdir】（remove dir）删除目录</p>
<ul>
<li>【rmdir  day2】删除当前目录下的名为day2的子目录</li>
<li>【rmdir  /root/doc/day2】通过指定绝对路径来删除day2文件夹</li>
</ul>
</li>
<li><p>【touch】创建一个新的文件</p>
<ul>
<li>【touch  a】在当前目录下创建a文件，如果该文件存在，则会更新该文件的属性信息为最新的。</li>
</ul>
</li>
<li><p>【cp】（copy） 复制文件</p>
<ul>
<li>【cp  a  b】把a文件复制在当前所在的文件夹，并且从重新命名为b。</li>
<li>【\cp  day2/a  day3/a】强制用day2里的a文件覆盖掉day3里的a文件</li>
</ul>
</li>
<li><p>【rm】删除文件</p>
<ul>
<li>【rm  a】删除当前目录下的文件</li>
<li>【rm  /root/day1/a】使用绝对路径进行删除</li>
<li>【rm -f  /root/day1/a】强制删除，不进行提醒</li>
<li>【rm -r】递归删除文件及文件夹<ul>
<li>【rm  -r  day2】把day2中的所有子文件夹和子文件删除，最后删除day2文件夹</li>
</ul>
</li>
<li>【rm  -rf】删除文件或文件夹且<strong>不提示</strong><ul>
<li>【rm  -rf  day2】直接删除day2文件夹</li>
<li>【rm  -rf  b*】删除当前目录下的以b开头的文件和文件夹。</li>
<li>【rm  -rf  /*】删库跑路 。</li>
</ul>
</li>
</ul>
</li>
<li><p>【mv】移动文件或目录或重命名（只能在目标文件/文件夹的父目录下进行操作）</p>
<ul>
<li>【mv  a  b】将a文件改名为b</li>
<li>【mv  day1/a.txt  day2/b.txt】把day1中的a.txt文件移动到day2中，顺便改名为b.txt。</li>
<li>【mv  /root/day2  doc】把/root中的day2文件夹移动到doc中</li>
<li>【mv  doc/day3  day3]把doc目录里的day3文件夹移动到当前doc所在的目录中。</li>
</ul>
</li>
<li><p>【cat】查看文件内容</p>
<ul>
<li>【cat  b.txt】只查看b.txt的内容，不进行编辑</li>
<li>【cat  -n  文件名】查看文件内容时，显示行号</li>
<li>【cat  -n  b.txt  |  grep  tony】查看文件时，使用管道配合查找包含tony的信息并显示行号。</li>
</ul>
</li>
<li><p>【echo】输出内容到控制台</p>
<ul>
<li>【echo  jq  &gt;  b.txt】把jq写入到b.txt 中，如果b.txt不存在，则自动创建b.txt，如果存在，则会覆盖里面的内容</li>
<li>【echo  jq  &gt;&gt;  b.txt】往b.txt中增加jq的内容</li>
</ul>
</li>
<li><p>【head】查看某文件的上部分内容（默认显示前10行）</p>
<ul>
<li>【head  b.txt】把b.txt中的前10行的内容出来</li>
<li>【head  -n  3  b.txt】把b.txt中前3行的内容显示出来。</li>
</ul>
</li>
<li><p>【tail】查看某文件的下部分内容（默认显示最后10行）</p>
<ul>
<li>【tail  b.txt】把b.txt中的最后10行的内容出来</li>
<li>【tail  -n  3  b.txt】把b.txt中最后3行的内容显示出来。</li>
</ul>
</li>
<li><p>创建文件的超链接</p>
<ul>
<li>【In  -s  /root/doc/jq.txt  JQ】在当前目录下创建一个指向/root/doc/jq.txt文件的超链接，链接名字叫做JQ。</li>
</ul>
</li>
</ol>
<h2 id="3-5Linux系统用户-用户组-压缩的命令"><a href="#3-5Linux系统用户-用户组-压缩的命令" class="headerlink" title="3.5Linux系统用户/用户组/压缩的命令"></a>3.5Linux系统用户/用户组/压缩的命令</h2><h3 id="3-5-1关机-amp-重启命令"><a href="#3-5-1关机-amp-重启命令" class="headerlink" title="3.5.1关机&amp;重启命令"></a>3.5.1关机&amp;重启命令</h3><ul>
<li>【shutdown  now】 立即关机</li>
<li>【poweroff 】 立即关机</li>
<li>【shutdown  -h  1 】”hello 一分钟后会关机”</li>
<li>【shutdown  -r  now 现在重启启动计算机</li>
<li>【reboot 】现在重新启动计算机</li>
</ul>
<h3 id="3-5-2-用户的登录和注销"><a href="#3-5-2-用户的登录和注销" class="headerlink" title="3.5.2 用户的登录和注销"></a>3.5.2 用户的登录和注销</h3><ul>
<li>系统切换用户登录，可以使用【su  -  用户名】，即可切换到该用户（ 高权限用户，切换到低权限用户，不需要输入低权限用户的密码；低权限用户，切换到高权限用户时，需要输入高权限用户的密码。 ）</li>
<li>使用【 logout】 注销当前登录用户 </li>
</ul>
<h3 id="3-5-3用户管理"><a href="#3-5-3用户管理" class="headerlink" title="3.5.3用户管理"></a>3.5.3用户管理</h3><ul>
<li><p>【useradd tom】 添加用户tom，添加后系统会为该用户添加一个工作目录，其工作在/home目录下的/tom目录。</p>
</li>
<li><p>【passwd  tom】   给tom用户添加密码（在root目录下操作）</p>
</li>
<li><p>【 id  tom】查看tom用户信息 </p>
</li>
<li><p>【who  am  I/i】查看当前登陆系统的用户信息，</p>
</li>
<li><p>【whoami】查看当前操作的用户名</p>
</li>
<li><p>【exit】退回到切换前的用户</p>
</li>
<li><p>【userdel  tom】删除当前用户信息</p>
<p>【userdel  -f  tom】强制删除tom用户，但是其文件夹还存在</p>
<p>【userdel  -rf  tom】删除tom用户和他的工作目录</p>
</li>
<li><p>【usermod  –help】查看所有关于usermod的所有指令</p>
</li>
</ul>
<h3 id="3-5-4用户组管理"><a href="#3-5-4用户组管理" class="headerlink" title="3.5.4用户组管理"></a>3.5.4用户组管理</h3><ul>
<li>【groupadd  developer】增加开发组(用户组)</li>
<li>【groupdel  developer】删除开发组（用户组）</li>
<li>【 useradd  -g  developer  tony 】添加tony用户的同时给tony添加进用户组developer</li>
<li>【usermod  -g  jq  tony】将tony用户从开发组developer移动到开发组jq中</li>
<li>【 cat  /etc/passwd 】查看用户信息文件内容</li>
<li>【cat  /etc/group】查看用户组</li>
<li>【source  /etc/group】刷新该目录</li>
</ul>
<h3 id="3-5-5压缩和解压缩"><a href="#3-5-5压缩和解压缩" class="headerlink" title="3.5.5压缩和解压缩"></a>3.5.5压缩和解压缩</h3><ul>
<li><p>gzip/gunzip，进行单个的压缩和解压</p>
<ul>
<li>【gzip  a.txt】将a.txt文件压缩，压缩后变为a.txt.gz，原来的a.txt会消失</li>
<li>【gunzip  a.txt】将a.txt的压缩包a.txt.gz解压为a.txt，原文件会消失。</li>
</ul>
</li>
<li><p>zip/unzip  可批量压缩和解压</p>
<ul>
<li>【zip  a.zip  a1.txt  a2.txt】将a1.txt  a2.txt文件压缩，并将压缩包命名为a.zip。</li>
<li>【zip  -r  doc.zip  /root/doc】将root下的doc文件夹打包压缩到当前的root目录下</li>
<li>【zip  b.zip  b*】打包所有以b开头的文件和文件夹并命名为b.zip。</li>
<li>【unzip a.zip】将a.zip解压缩到当前目录下，会提示是否覆盖</li>
<li>【unzip -d temp a.zip】用相对路径将a.zip解压到当前目录下的temp文件夹，若没有temp文件夹则会创建一个。</li>
<li>【unzip -d /home/king a.zip】用绝对路径将a.zip解压到指定的目录中。若没有该目录则将创建一个。</li>
</ul>
</li>
<li><p>【tar】指令</p>
<ul>
<li>基本语法：tar  [选项]  xxx.tar.gz  打包的内容，直接解压会解压到当前操作目录下，会自动替换同名文件</li>
<li>选项说明：<ul>
<li>-c  打包</li>
<li>-x  解包</li>
<li>-v  显示打包的详细过程 </li>
<li>-f   指定tar包的文件名</li>
<li>-z  将打包的文件再进行压缩</li>
</ul>
</li>
<li>【tar  -xvf  bak.tar  -C  /home/king/bak】将bak.tar压缩包解压到指定目录(若没有，不会自动创建该目录)</li>
<li>【tar  -cvf  bak.tar  *】把当前工作目录中所有的文件、文件夹打包成bak.tar文件 。</li>
<li>【tar  -zcvf  bak.tar.gz  *】把当前工作目录下的所有文件，文件夹打包并压缩成  bak.tar.gz压缩包。</li>
<li>【tar  -zxvf  bak.tar.gz  -C  temp】将 bak.tar.gz解压到指定的temp目录。</li>
</ul>
</li>
</ul>
<h3 id="3-6文件权限"><a href="#3-6文件权限" class="headerlink" title="3.6文件权限"></a>3.6文件权限</h3><ul>
<li>（<a target="_blank" rel="noopener" href="https://blog.csdn.net/dshf_1/article/details/99973236**%E8%A7%A3%E9%87%8A**%EF%BC%89">https://blog.csdn.net/dshf_1/article/details/99973236**解释**）</a></li>
<li>当前普通用户创建的文件，只有它自己拥有读写的权限，其他普通用户只有读的权限，root拥有对所有文件，文件夹的所有操作权限</li>
</ul>
<ul>
<li><p>【chown  用户名  文件名】文件所有者修改</p>
<ul>
<li>【chown  king  a.txt】超级用户root将对a.txt文件的所有者更为为普通用户king</li>
</ul>
</li>
<li><p>【chgrp  组名  文件名】修改文件所在组</p>
<ul>
<li>【chgrp  temp  a.txt】超级用户root将所在自己组的a.txt的权限转去temp组。</li>
</ul>
</li>
<li><p>【chmod】给一个文件修改权限</p>
<ul>
<li><p>【u】表示所有者，【g】表示所在组，【o】表示其他人，【a】表示所有人,【<a target="_blank" rel="noopener" href="https://blog.csdn.net/coolcoffee168/article/details/89373902%E3%80%91">https://blog.csdn.net/coolcoffee168/article/details/89373902】</a></p>
</li>
<li><p>【r】(可读)，表示可以读取目录的内容, 如ls<strong>查看</strong>目录内容。 </p>
</li>
<li><p>【w】 (可写)，表示目录内可以创建、删除文件或目录</p>
</li>
<li><p>【x】 (执行)用于文件夹上，表示该文件夹是否可以被进入</p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>【chmod  u=rw,g=rwx,o=r  a.txt】所有者有rw，所在组有rwx，其他人有r权限。</p>
</li>
<li><p>【chmod  ug+rw  a.txt】给a.txt文件设为文件所有者，文件所在组都可读可写</p>
</li>
<li><p>【chmod  ugo+rw  a.txt】给a.txt文件设为所有人都可进行读写操作</p>
</li>
<li><p>【chmod  777  a.txt】给user  ，group，other分别授权读写和执行权限。4代表读，2代表写，1代表执行。4+2+1=7</p>
</li>
<li><p>【chmod  ug-w  a.txt】减号代表取消权限，取消user，group对文件a.txt的写权限。</p>
</li>
<li><p>【 chmod -R 774 /home/hou3】-R作用： 对目前目录下的所有文件与子目录进行相同的权限变更(即以递回的方式逐个变更) </p>
</li>
</ul>
<h1 id="4-shell编程"><a href="#4-shell编程" class="headerlink" title="4.shell编程"></a>4.shell编程</h1><p>【<a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-shell.html%E3%80%91">https://www.runoob.com/linux/linux-shell.html】</a></p>
<h2 id="4-1-定义用法"><a href="#4-1-定义用法" class="headerlink" title="4.1 定义用法"></a>4.1 定义用法</h2><p>  Shell 脚本（shell script），是一种为 shell 编写的脚本程序。</p>
<p>  脚本要求：</p>
<ul>
<li> 脚本以#!/bin/bash开头</li>
<li> 脚本需要可执行权限</li>
</ul>
<h3 id="4-1-1-第一个脚本"><a href="#4-1-1-第一个脚本" class="headerlink" title="4.1.1 第一个脚本"></a>4.1.1 第一个脚本</h3><ul>
<li> 【**#!**】 告诉系统其后路径所指定的程序即是解释此脚本文件的 Shell 程序</li>
</ul>
<ol>
<li><p>【vi  hello.sh】创建文件，扩展名为sh代表shell</p>
</li>
<li><p>【#!/bin/bash】</p>
<p>【echo  “hello world ！”】</p>
</li>
<li><p>【chmod  u+x  ./hello.sh】wq退出后使脚本具有执行的权限</p>
</li>
<li><p>【./hello.sh】执行脚本(用的相对路径，./代表在当前目录下)</p>
</li>
</ol>
<h2 id="4-2-shell变量-一些理解"><a href="#4-2-shell变量-一些理解" class="headerlink" title="4.2 shell变量(一些理解)"></a>4.2 shell变量(一些理解)</h2><p><strong>把指令结果赋值给变量时，用``反引号将指令括起来，或者$()将指令括起来。或者用$[]，该[]执行基本的算术运算</strong></p>
<h3 id="4-2-1-定义变量"><a href="#4-2-1-定义变量" class="headerlink" title="4.2.1 定义变量"></a>4.2.1 定义变量</h3><ul>
<li><p>【name=”jq”】定义一个变量名为name并且赋值为jq，中间不能有空格。</p>
</li>
<li><p>【变量名命名规则】</p>
<ul>
<li><p>命名只能使用英文字母，数字和下划线，首个字符不能以数字开头。</p>
</li>
<li><p>中间不能有空格，可以使用下划线（_）。</p>
</li>
<li><p>不能使用标点符号。</p>
</li>
<li><p>不能使用bash里的关键字（可用help命令查看保留关键字）</p>
</li>
<li><p><strong>把指令<code>结果赋值</code>给变量时，用``反引号将指令括起来，或者$()将指令括起来。或者用$[]，该[]执行基本的算术运算</strong></p>
<p>如：<img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\1606023851169.png" alt="1606023851169" style="zoom:200%;" /></p>
</li>
</ul>
</li>
</ul>
<h3 id="4-2-2使用变量"><a href="#4-2-2使用变量" class="headerlink" title="4.2.2使用变量"></a>4.2.2使用变量</h3><ul>
<li><p>【echo  $name】</p>
<p>【echo  ${name}】将在会控制台下输出name的值</p>
</li>
<li><p>也可以在vi编辑器中定义用相对路径./hello.sh执行脚本将变量输出</p>
</li>
</ul>
<h3 id="4-2-3-注释"><a href="#4-2-3-注释" class="headerlink" title="4.2.3 注释"></a>4.2.3 注释</h3><ul>
<li>【#。。。】单行注释</li>
<li>【:&lt;&lt;!。。。!】多行注释</li>
</ul>
<h3 id="4-2-4设置环境变量"><a href="#4-2-4设置环境变量" class="headerlink" title="4.2.4设置环境变量"></a>4.2.4设置环境变量</h3><ul>
<li><strong>1) 局部变量</strong> 局部变量在脚本或命令中定义，仅在当前shell实例中有效，其他shell启动的程序不能访问局部变量。</li>
<li><strong>2) 环境变量</strong> 所有的程序，包括shell启动的程序，都能访问环境变量，有些程序需要环境变量来保证其正常运行。必要的时候shell脚本也可以定义环境变量。<ul>
<li>基本语法</li>
<li>【export 变量名=变量值】 (功能描述：将shell变量输出为环境变量,只是在当前用户下的临时环境变量，别的用户并不能用；在配置文件/etc/profile中配置才能)</li>
<li>【source 配置文件路径】 (让修改后的配置信息立即生效，即刷新)</li>
<li>【echo $变量名】 (查询环境变量的值)</li>
</ul>
</li>
<li><strong>3) shell变量</strong> shell变量是由shell程序设置的特殊变量。shell变量中有一部分是环境变量，有一部分是局部变量，这些变量保证了shell的正常运行</li>
</ul>
<h3 id="4-2-5传递参数"><a href="#4-2-5传递参数" class="headerlink" title="4.2.5传递参数"></a>4.2.5传递参数</h3><ul>
<li><p>【$n】我们可以在执行 Shell 脚本时，向脚本传递参数，脚本内获取参数的格式为：**$n<strong>。</strong>n** 代表一个数字，$0表示执行的文件名，$1 为执行脚本的第一个参数，$2 为执行脚本的第二个参数，以此类推……10个以上的参数需要用大括号包含，如${10}</p>
</li>
<li><p>例子 1：<img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\1606302701425.png" alt="1606302701425"></p>
</li>
<li><p>【$*】传递的参数作为一个字符串显示</p>
</li>
</ul>
<h3 id="4-2-6-基本算数运算符"><a href="#4-2-6-基本算数运算符" class="headerlink" title="4.2.6 基本算数运算符"></a>4.2.6 基本算数运算符</h3><ul>
<li>expr是一个表达式计算工具，使表达式能完成求值操作，变量要获取该值要用反引号``将expr 括着， 表达式和运算符之间要有空格 <ul>
<li> 乘号(*)前边必须加反斜杠( \ )才能实现乘法运算 </li>
</ul>
</li>
<li>【$((运算式))】或者【$[运算式]】 </li>
</ul>
<h2 id="4-3-流程控制语句"><a href="#4-3-流程控制语句" class="headerlink" title="4.3 流程控制语句"></a>4.3 流程控制语句</h2><h3 id="4-3-1关系运算符"><a href="#4-3-1关系运算符" class="headerlink" title="4.3.1关系运算符"></a>4.3.1关系运算符</h3><h4 id="4-3-1-1数字关系运算符"><a href="#4-3-1-1数字关系运算符" class="headerlink" title="4.3.1.1数字关系运算符"></a>4.3.1.1数字关系运算符</h4><ul>
<li><p><u><strong>这些运算只能用在[]中，不能用在(())中</strong></u></p>
</li>
<li><p>-eq    检测两个数是否相等，相等返回 true。 [ $a -eq $b ] 返回 false。 </p>
</li>
<li><p>-ne    检测两个数是否不相等，不相等返回 true。    [ $a -ne $b ] </p>
</li>
<li><p>-gt    检测左边的数是否大于右边的，如果是，则返回 true。</p>
</li>
<li><p>-lt    检测左边的数是否小于右边的，如果是，则返回 true。</p>
</li>
<li><p>-ge    检测左边的数是否大于等于右边的，如果是，则返回 true。</p>
</li>
<li><p>-le    检测左边的数是否小于等于右边的，如果是，则返回 true。</p>
</li>
</ul>
<h4 id="4-1-2字符串关系运算符"><a href="#4-1-2字符串关系运算符" class="headerlink" title="4.1.2字符串关系运算符"></a>4.1.2字符串关系运算符</h4><ul>
<li>=    检测两个字符串是否相等，相等返回 true。</li>
<li>!=    检测两个字符串是否相等，不相等返回 true。</li>
<li>-z    检测字符串长度是否为0，为0返回 true。</li>
<li>-n    检测字符串长度是否不为 0，不为 0 返回 true。</li>
<li>$    检测字符串是否为空，不为空返回 true。</li>
</ul>
<h4 id="4-1-3文件关系运算符"><a href="#4-1-3文件关系运算符" class="headerlink" title="4.1.3文件关系运算符"></a>4.1.3文件关系运算符</h4><ul>
<li><p>【-r /root/myshell/txt】 检测文件是否可读，如果是，则返回 true。</p>
</li>
<li><p>【-w /root/myshell/txt】 检测文件是否可写，如果是，则返回 true。</p>
</li>
<li><p>【-x /root/myshell/txt】 检测文件是否可执行，如果是，则返回 true。</p>
</li>
</ul>
<h3 id="4-3-2-if语句"><a href="#4-3-2-if语句" class="headerlink" title="4.3.2 if语句"></a>4.3.2 if语句</h3><ul>
<li><p>语法：if  [  条件语句  ]   (等号之间也要有空格)</p>
<p>​            then</p>
<pre><code>             指令</code></pre>
<p>​            fi</p>
</li>
<li><p>例子：</p>
<p>#!/bin/bash</p>
<p>if [ “aa” = “aa” ]<br> then<br>  echo “yes”<br>fi</p>
</li>
<li><h3 id="if-else"><a href="#if-else" class="headerlink" title="if else"></a>if else</h3><p>if else 语法格式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">if [ condition ]</span><br><span class="line">then</span><br><span class="line">    command1 </span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line">else</span><br><span class="line">    command</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
</li>
<li><h3 id="if-else-if-else"><a href="#if-else-if-else" class="headerlink" title="if else-if else"></a>if else-if else</h3><p>if else-if else 语法格式： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">if [ condition1 ]</span><br><span class="line">then</span><br><span class="line">    command1</span><br><span class="line">elif [ condition2 ] </span><br><span class="line">then </span><br><span class="line">    command2</span><br><span class="line">else</span><br><span class="line">    commandN</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="4-3-3-case语法"><a href="#4-3-3-case语法" class="headerlink" title="4.3.3 case语法"></a>4.3.3 case语法</h3><ul>
<li><p>#!/bin/bash</p>
<p>case $1 in   （$1值为多少进入下面对应的）<br>“1”)</p>
<pre><code>echo &quot;星期一&quot;</code></pre>
<p>;;   （退出，相当于break）<br>“2”)</p>
<pre><code>echo &quot;星期二&quot;</code></pre>
<p>;;<br>“3”)</p>
<pre><code>echo &quot;星期三&quot;</code></pre>
<p>;;<br>*)   （输入的不是上面的其他值,则输出天天都是星期五）</p>
<pre><code>echo &quot;天天都是星期五&quot;</code></pre>
<p>;;<br>esac (结束)</p>
</li>
</ul>
<h3 id="4-3-4-for循环"><a href="#4-3-4-for循环" class="headerlink" title="4.3.4 for循环"></a>4.3.4 for循环</h3><ul>
<li><p>语法：</p>
<p>#!/bin/bash</p>
<p>for i in “$*”   <strong>(还有对比$@的区别)</strong><br>do </p>
<pre><code>echo &quot;当前数值为$i&quot;</code></pre>
<p>done</p>
</li>
</ul>
<ul>
<li><p>例子1：</p>
<p>#!/bin/bash</p>
<p>SUM=0<br>for((i=1;i&lt;=100;i++))<br>do</p>
<pre><code>SUM=$[$SUM+$i]</code></pre>
<p>done<br>echo “sum:$SUM”</p>
</li>
</ul>
<p>4.3.5while循环</p>
<ul>
<li><p>#!/bin/bash</p>
<p>SUM=0<br>I=1<br>while [ $I -le 100 ]  （或者 while (( $I&lt;=100 ))<br>do<br>  SUM=$[$I+$SUM]<br>  I=$[$I+1]<br>done<br>echo “sum:$SUM” </p>
</li>
</ul>
<h1 id="5-数据库"><a href="#5-数据库" class="headerlink" title="5.数据库"></a>5.数据库</h1><h2 id="5-1数据库功能"><a href="#5-1数据库功能" class="headerlink" title="5.1数据库功能"></a>5.1数据库功能</h2><ul>
<li>存储大量数据，方便检索和访问</li>
<li>保持数据信息的一致，完整</li>
<li>共享和安全</li>
<li>通过组合分析，产生新的有用信息</li>
</ul>
<h2 id="5-2数据库与应用程序"><a href="#5-2数据库与应用程序" class="headerlink" title="5.2数据库与应用程序"></a>5.2数据库与应用程序</h2><ul>
<li>应用程序<ul>
<li>作用：相应操作并显示结果，向数据库请求数据</li>
<li>要求：美观，操作简单方便</li>
</ul>
</li>
<li>数据库<ul>
<li>作用：存储数据，检索数据，生成新的数据</li>
<li>要求：统一，安全，性能</li>
</ul>
</li>
</ul>
<h2 id="5-3数据库分类"><a href="#5-3数据库分类" class="headerlink" title="5.3数据库分类"></a>5.3数据库分类</h2><h3 id="5-3-1关系型数据库"><a href="#5-3-1关系型数据库" class="headerlink" title="5.3.1关系型数据库"></a>5.3.1关系型数据库</h3><ul>
<li>关系型数据库模型是把复杂的数据结构归结为简单的二元关系 ，采用了关系模型来组织数据的数据库。简单来说，关系模式就是二维表格模型。</li>
<li>常用的有：SQLite、Oracle、mysql </li>
</ul>
<h3 id="5-3-2非关系型数据库"><a href="#5-3-2非关系型数据库" class="headerlink" title="5.3.2非关系型数据库"></a>5.3.2非关系型数据库</h3><ul>
<li>1、使用键值对存储数据；key:value<br> 2、分布式；<br> 3、一般不支持ACID特性；<br> 4、非关系型数据库严格上不是一种数据库，应该是一种数据结构化存储    方法的集合。  </li>
<li> 主要代表MongoDB，Redis、CouchDB。 </li>
</ul>
<h3 id="5-4名词解释-DB-DBMS-DBA-DBS"><a href="#5-4名词解释-DB-DBMS-DBA-DBS" class="headerlink" title="5.4名词解释 DB\DBMS\DBA\DBS"></a>5.4名词解释 DB\DBMS\DBA\DBS</h3><ul>
<li> 数据库（Data Base，<strong>DB</strong>)是按一定结构组织并长期存储在计算机内的、可共享的大量数据的有机集合。其实就是存放数据的仓库，只不过这些数据存在一定的关联、并按一定的格式存放在计算机上。 例如，把一个学校的学生、课程、学生成绩等数据有序的组织并存放在计算机内，就可以构成一个数据库。  </li>
<li> 数据库管理系统（Data Base Management System，DBMS）是管理和维护数据库的系统软件。常用的DBMS有：Oracle、DB2、SqlServer、MySql等 </li>
<li> 数据库管理员（Date Base Administrator ,<strong>DBA</strong>)管理操作数据库人员。 </li>
<li> 数据库系统（Data Base System，<strong>DBS</strong>）是实现有组织的、动态地存储大量关联数据、方便多用户访问的计算机软件、硬件和数据资源组成的系统，简化为：DBS=计算机系统（硬件、软件平台、人）+DBMS+DB </li>
</ul>
<h2 id="5-5数据库实例，数据文件，表空间和用户"><a href="#5-5数据库实例，数据文件，表空间和用户" class="headerlink" title="5.5数据库实例，数据文件，表空间和用户"></a>5.5数据库实例，数据文件，表空间和用户</h2><h3 id="1-数据库实例"><a href="#1-数据库实例" class="headerlink" title="1.数据库实例"></a>1.数据库实例</h3><ul>
<li>Oracle或Oracle数据库，是指Oracle数据库管理系统，它是由Oracle数据库和Oracle实例(instance构成)</li>
<li>Oracle数据库必须与内存实例相结合，才能对外提供数据库管理服务</li>
<li>实例是访问Oracle数据库所需的一部分计算机内存和辅助处理后台进程，是由进程和这些进程所使用的内存(SGA)所构成一个集合。 </li>
<li>一个数据库可以有多个实例，在作数据库服务集群的时候可以用到。 </li>
<li>查询当前数据库实例名：select instance_name from v$instance; </li>
<li>数据库实例名(instance_name)用于对外部连接。在操作系统中要取得与数据库的联系，必须使用数据库实例名。比如我们作开发，要连接数据库，就得连接数据库实例名：jdbc:oracle:thin:@localhost:1521:orcl（orcl就为数据库实例名） </li>
</ul>
<h1 id="6-SQL-结构化查询语言"><a href="#6-SQL-结构化查询语言" class="headerlink" title="6.SQL(结构化查询语言)"></a>6.SQL(结构化查询语言)</h1><h2 id="6-1SQL简介"><a href="#6-1SQL简介" class="headerlink" title="6.1SQL简介"></a>6.1SQL简介</h2><h3 id="6-1-1SQL是什么"><a href="#6-1-1SQL是什么" class="headerlink" title="6.1.1SQL是什么"></a>6.1.1SQL是什么</h3><ul>
<li>SQL，指结构化查询语言，全称是 Structured Query Language。</li>
<li>SQL 让您可以访问和处理数据库。</li>
</ul>
<h3 id="6-1-2SQL能做什么？"><a href="#6-1-2SQL能做什么？" class="headerlink" title="6.1.2SQL能做什么？"></a>6.1.2SQL能做什么？</h3><ul>
<li>SQL 面向数据库执行查询</li>
<li>SQL 可从数据库取回数据</li>
<li>SQL 可在数据库中插入新的记录</li>
<li>SQL 可更新数据库中的数据</li>
<li>SQL 可从数据库删除记录</li>
<li>SQL 可创建新数据库</li>
<li>SQL 可在数据库中创建新表</li>
<li>SQL 可在数据库中创建存储过程</li>
<li>SQL 可在数据库中创建视图</li>
<li>SQL 可以设置表、存储过程和视图的权限</li>
</ul>
<h3 id="6-1-3怎么使用SQL"><a href="#6-1-3怎么使用SQL" class="headerlink" title="6.1.3怎么使用SQL"></a>6.1.3怎么使用SQL</h3><ul>
<li>DML（数据操作<strong>make</strong>语言）:插入、删除和修改数据库中的数据（INSERT、 UPDATE 、DELETE等)</li>
<li>DCL（数据控制<strong>control</strong>语言）: 用来控制存取许可、存取权限等（GRANT、REVOKE等）</li>
<li>DQL（数据查询<strong>query</strong>语言）:用来查询数据库中的数据（SELECT）</li>
<li>DDL（数据定义<strong>define</strong>语言）:用于定义数据的结构，比如 创建、修改或者删除数据库（CREATE TABLE 、DROP TABLE 等） </li>
</ul>
<h2 id="6-2简单的SQL语句"><a href="#6-2简单的SQL语句" class="headerlink" title="6.2简单的SQL语句"></a>6.2简单的SQL语句</h2><h3 id="6-2-1查询语法格式"><a href="#6-2-1查询语法格式" class="headerlink" title="6.2.1查询语法格式"></a>6.2.1查询语法格式</h3><ul>
<li>SELECT  &lt;列名1&gt;,&lt;列名2&gt;,&lt;列名3&gt;</li>
<li>from        &lt;表名&gt;</li>
<li>[where     &lt;查询条件表达式&gt;]</li>
<li>[ORDER BY  &lt;排序的列名&gt;[ASC升序或DESC降序]</li>
</ul>
<h3 id="6-2-2查询语句"><a href="#6-2-2查询语句" class="headerlink" title="6.2.2查询语句"></a>6.2.2查询语句</h3><h4 id="1-查询全部列"><a href="#1-查询全部列" class="headerlink" title="1.查询全部列"></a>1.查询全部列</h4><p>select * from emp;</p>
<h4 id="2-查询部分列"><a href="#2-查询部分列" class="headerlink" title="2.查询部分列"></a>2.查询部分列</h4><p>select empno, ename, sal from emp;</p>
<h4 id="3-带条件的查询"><a href="#3-带条件的查询" class="headerlink" title="3.带条件的查询"></a>3.带条件的查询</h4><p>select e.empno, e.ename, e.sal<br>from emp e<br>where sal&gt;=2000;</p>
<h4 id="4-带条件的查询"><a href="#4-带条件的查询" class="headerlink" title="4.带条件的查询"></a>4.带条件的查询</h4><p>select e.empno, e.ename, e.sal<br>from emp e<br>where sal&gt;=2000;</p>
<h4 id="5-给数据列取别名"><a href="#5-给数据列取别名" class="headerlink" title="5.给数据列取别名"></a>5.给数据列取别名</h4><p>select ename as 姓名, sal*12 年薪 from emp;</p>
<p>select ename as “姓名”,sal*12 “年薪” from emp;</p>
<h4 id="6-连接运算符"><a href="#6-连接运算符" class="headerlink" title="6.连接运算符 ||"></a>6.连接运算符 ||</h4><p>select empno||ename as 员工姓名 from emp;<br>select ename||’-‘||sal from emp;</p>
<h4 id="8-去除重复行distinct"><a href="#8-去除重复行distinct" class="headerlink" title="8.去除重复行distinct"></a>8.去除重复行distinct</h4><p>select distinct deptno from emp;</p>
<h4 id="9-排序-asc升序，-desc降序"><a href="#9-排序-asc升序，-desc降序" class="headerlink" title="9.排序 asc升序， desc降序"></a>9.排序 asc升序， desc降序</h4><p>select * from emp<br>order by sal asc;</p>
<p>先筛再排（<strong>order默认升序</strong>）<br>select * from emp<br>where sal &gt;= 2000<br>order by sal;</p>
<p>多个排序列的情况<br>– 按照工资升序排序，当有相等的情况时，启第二排序规则<br>– 按照员工姓名升序排列（只是相等的记录）</p>
<p>select * from emp<br>order by sal asc, ename asc;</p>
<ul>
<li>排序子句永远在最后</li>
</ul>
<h4 id="10-插入数据："><a href="#10-插入数据：" class="headerlink" title="10.插入数据："></a><strong>10.插入数据</strong>：</h4><p>insert into emp(empno,ename,sal)<br>values(8888,’Tom’,800);</p>
<h4 id="11-比较运算符-gt-lt-or-lt-gt-between-and"><a href="#11-比较运算符-gt-lt-or-lt-gt-between-and" class="headerlink" title="11.比较运算符=  &gt;&lt;(!= or &lt;&gt;) between and"></a>11.比较运算符=  &gt;&lt;(!= or &lt;&gt;) between and</h4><ul>
<li><p>查询SCOTT的员工信息<br>select * from emp </p>
<p>where ename = ‘SCOTT’;</p>
</li>
<li><p>查询非销售员的所有员工信息<br>select * from emp </p>
<p>where job &lt;&gt; ‘SALESMAN’;</p>
</li>
<li><p>查询基本工资在1000-2000的员工信息<br>select * from emp<br>where sal&gt;=1000 and sal&lt;=2000;<br>select * from emp<br>where sal between 1000 and 2000;</p>
</li>
</ul>
<h4 id="12-–-in操作not-in"><a href="#12-–-in操作not-in" class="headerlink" title="12.– in操作not in"></a>12.– in操作not in</h4><p>– 查询部门编号在10，20，30，40内的员工信息<br>select * from emp<br>where deptno=10<br>or deptno=20<br>or deptno=30<br>or deptno=40;</p>
<p>select * from emp<br>where deptno in(10,20,30,40);</p>
<p>select * from emp<br>where deptno not in(10,20,30);</p>
<h4 id="13-模糊查询like"><a href="#13-模糊查询like" class="headerlink" title="13.模糊查询like _ %"></a>13.模糊查询like _ %</h4><ul>
<li><p>查询员工姓名以A开头的信息<br>select * from emp<br>where ename like ‘A%’;</p>
</li>
<li><p>查询员工姓名以S结尾的信息<br>select * from emp<br>where ename like ‘%S’;</p>
</li>
<li><p>查询员工姓名中包含E的信息<br>select * from emp<br>where ename like ‘%E%’;</p>
</li>
<li><p>查询员工姓名中，姓张的，名只有一个字的员工信息<br>select * from emp<br>where ename like ‘张_’;</p>
</li>
<li><p>查询员工表的ename中包含a和e 的，且a出现在e的前面</p>
</li>
<li><pre><code class="sql">SELECT ename
FROM emp
WHERE ename LIKE &#39;%a%e%&#39;;
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 6.3 插入(insert)语句</span><br><span class="line"></span><br><span class="line">* insert语句:</span><br><span class="line"></span><br><span class="line">  * &#96;&#96;&#96;sql</span><br><span class="line">    insert into table(deptno,dname,loc)</span><br><span class="line">    values(4,&#39;test&#39;,&#39;上海&#39;);</span><br><span class="line">    </span><br><span class="line">    --或者  插入全年列</span><br><span class="line">    insert into table </span><br><span class="line">    values(5,&#39;test1&#39;,&#39;南京&#39;);</span><br><span class="line">    </span><br><span class="line">    </span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
<h3 id="6-4更新语句（update）"><a href="#6-4更新语句（update）" class="headerlink" title="6.4更新语句（update）"></a>6.4更新语句（update）</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--更新表名为 emp中empno为100的名字更新为小王</span></span><br><span class="line"><span class="keyword">update</span> emp </span><br><span class="line"><span class="keyword">set</span> ename = <span class="string">&#x27;小王&#x27;</span></span><br><span class="line"><span class="keyword">where</span> empno = <span class="number">100</span>;<span class="comment">--加条件，不然整个表更新</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--更新多条信息</span></span><br><span class="line"><span class="keyword">update</span> emp </span><br><span class="line"><span class="keyword">set</span> ename = <span class="string">&#x27;张三&#x27;</span>,sal=<span class="number">1000</span></span><br><span class="line"><span class="keyword">where</span> empno = <span class="number">100</span></span><br></pre></td></tr></table></figure>

<h3 id="6-5删除delete语句"><a href="#6-5删除delete语句" class="headerlink" title="6.5删除delete语句"></a>6.5删除delete语句</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--删除empno为400的数据</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> emp <span class="keyword">where</span> empno = <span class="number">400</span></span><br><span class="line"><span class="comment">--模糊删除</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">from</span> <span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">&#x27;%k%&#x27;</span>;</span><br></pre></td></tr></table></figure>





<p>6.6</p>
<h2 id="6-3-SQL函数"><a href="#6-3-SQL函数" class="headerlink" title="6.3 SQL函数"></a>6.3 SQL函数</h2><h3 id="1-SQL字符函数"><a href="#1-SQL字符函数" class="headerlink" title="1.SQL字符函数"></a>1.SQL字符函数</h3><h4 id="1-upper"><a href="#1-upper" class="headerlink" title="1.upper"></a>1.upper</h4><ul>
<li><p>把字符转为大写</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">upper</span>(<span class="string">&#x27;aa&#x27;</span>) <span class="keyword">from</span> dual;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="2-lower"><a href="#2-lower" class="headerlink" title="2.lower"></a>2.lower</h4><ul>
<li><p>把字符串转为小写</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">lower</span>(<span class="string">&#x27;AA&#x27;</span>) <span class="keyword">from</span> dual;</span><br><span class="line"><span class="comment">--把ename列里的名称全改称为小写，别名为ename</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">lower</span>(ename) ename <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="3-concat"><a href="#3-concat" class="headerlink" title="3.concat"></a>3.concat</h4><ul>
<li><p>字符串连接</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--将a，b连接在一起，只能连接两个，如要连接更多可嵌套</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">concat</span>(<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>) <span class="keyword">from</span> dual;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">concat</span>(<span class="string">&#x27;a&#x27;</span>,<span class="keyword">concat</span>(<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>)) <span class="keyword">from</span> dual;</span><br><span class="line"><span class="comment">--将empno和ename两列连接</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">concat</span>(empno,ename) <span class="keyword">from</span> emp;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



</li>
</ul>
<h4 id="4-substr"><a href="#4-substr" class="headerlink" title="4.substr"></a>4.substr</h4><ul>
<li><p>字符串截取</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">substr(string string,int a);</span><br><span class="line">substr(string string,int a,int b);</span><br><span class="line"><span class="comment">--从字符串第二个字符开始往后截取</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">substr</span>(<span class="string">&#x27;abcdf&#x27;</span>,<span class="number">2</span>) <span class="keyword">from</span> dual;<span class="comment">-- bcdf</span></span><br><span class="line"><span class="comment">--从字符串第二个字符开始，往后截取两个字符；</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">substr</span>(<span class="string">&#x27;abadfaafcd&#x27;</span>,<span class="number">2</span>,<span class="number">2</span>) <span class="keyword">from</span> dual;<span class="comment">--ba</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="5-length"><a href="#5-length" class="headerlink" title="5.length"></a>5.length</h4><ul>
<li><p>求长度</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">length</span>(<span class="string">&#x27;abfajkgasfjkh&#x27;</span>) <span class="keyword">from</span> dual;<span class="comment">-- 6</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="6-replace"><a href="#6-replace" class="headerlink" title="6.replace"></a>6.replace</h4><ul>
<li><p>字符替换</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">replace</span>(<span class="string">&#x27;原字段&#x27;</span>,<span class="string">&#x27;原字段中的就内容&#x27;</span>,<span class="string">&#x27;原字段的新内容&#x27;</span>)</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">replace</span>(<span class="string">&#x27;说你行就行&#x27;</span>,<span class="string">&#x27;行&#x27;</span>,<span class="string">&#x27;不行&#x27;</span>); </span><br><span class="line"><span class="comment">-- 说你不行就不行</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="7-instr"><a href="#7-instr" class="headerlink" title="7.instr"></a>7.instr</h4><ul>
<li><p>字符串查找</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">instr(&#x27;源字符串&#x27;,&#x27;目标字符串&#x27;)</span><br><span class="line">instr(&#x27;源字符串&#x27;,&#x27;目标字符串&#x27;,起始位置,从起始位置往后查出现的第几个)</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">instr</span>(<span class="string">&#x27;水泥行就行&#x27;</span>,<span class="string">&#x27;行&#x27;</span>)  <span class="comment">--3,默认第一个出现的下标</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">instr</span>(<span class="string">&#x27;朔宁行就行，行不行。吴总很行&#x27;</span>,<span class="string">&#x27;行&#x27;</span>，<span class="number">4</span>，<span class="number">2</span>)</span><br><span class="line"><span class="comment">--从4开始，查第二个出现的&#x27;行&#x27;的位置下标</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="8-trim"><a href="#8-trim" class="headerlink" title="8.trim"></a>8.trim</h4><ul>
<li><p>去掉字符串两端的空格</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">trim</span>(<span class="string">&#x27;  ljkajkdjkd  &#x27;</span>) <span class="keyword">from</span> dual;</span><br><span class="line"><span class="comment">--去掉emp中ename列中左右两端的空格</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">trim</span>(ename) <span class="keyword">from</span> emp;</span><br><span class="line"><span class="comment">--去掉左边的空格</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">ltrim</span>(<span class="string">&#x27; aa &#x27;</span>) <span class="keyword">from</span> dual; <span class="comment">--&#x27;aa &#x27;</span></span><br><span class="line"><span class="comment">--去掉右边的空格</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">rtrim</span>(<span class="string">&#x27; aa &#x27;</span>) <span class="keyword">from</span> dual;<span class="comment">--&#x27; aa&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



</li>
</ul>
<h3 id="2-SQL数值函数"><a href="#2-SQL数值函数" class="headerlink" title="2.SQL数值函数"></a>2.SQL数值函数</h3><h4 id="1-round"><a href="#1-round" class="headerlink" title="1.round"></a>1.round</h4><ul>
<li><p>对数值四舍五入</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">round</span>(<span class="number">3.1</span>) <span class="keyword">from</span> dual; <span class="comment">--3</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="2-mod"><a href="#2-mod" class="headerlink" title="2.mod"></a>2.mod</h4><ul>
<li><p>对数值取模（即求余数）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--求10除3的余数</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">mod</span>(<span class="number">10</span>,<span class="number">3</span>) <span class="keyword">from</span> dual; <span class="comment">--1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



</li>
</ul>
<h4 id="3-ceil"><a href="#3-ceil" class="headerlink" title="3.ceil"></a>3.ceil</h4><ul>
<li><p>向上取整</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">ceil</span>(<span class="number">3.1</span>) <span class="keyword">from</span> dual; <span class="comment">--4</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">ceil</span>(<span class="number">3.7</span>) <span class="keyword">from</span> dual; <span class="comment">--4</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="4-floor"><a href="#4-floor" class="headerlink" title="4.floor"></a>4.floor</h4><ul>
<li><p>向下取整</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">floor</span>(<span class="number">1.8</span>) <span class="keyword">from</span> dual; <span class="comment">--1</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">floor</span>(<span class="number">1.1</span>) <span class="keyword">from</span> dual; <span class="comment">--1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



</li>
</ul>
<h3 id="3-转换函数"><a href="#3-转换函数" class="headerlink" title="3.转换函数"></a>3.转换函数</h3><h4 id="1-to-char"><a href="#1-to-char" class="headerlink" title="1.to_char"></a>1.to_char</h4><ul>
<li><p>转成字符</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--将数字转换成字符串输出</span></span><br><span class="line"><span class="keyword">select</span> to_char(<span class="number">123.5</span>) <span class="keyword">from</span> dual;  <span class="comment">--&#x27;123.5&#x27;</span></span><br><span class="line"><span class="comment">--将时间转换成指定的字符串格式输出,不带毫秒的时间sysdate</span></span><br><span class="line"><span class="keyword">select</span> to_char(<span class="keyword">sysdate</span>,<span class="string">&#x27;yyMMdd&#x27;</span>) <span class="keyword">from</span> dual；</span><br><span class="line"><span class="keyword">select</span> to_char(<span class="keyword">sysdate</span>,<span class="string">&#x27;yy-MM-dd&#x27;</span>) <span class="keyword">from</span> dual；</span><br><span class="line"><span class="keyword">select</span> to_char(<span class="keyword">sysdate</span>,<span class="string">&#x27;yy/MM/dd hh24:mm:ss&#x27;</span>) <span class="keyword">from</span> dual</span><br><span class="line"><span class="comment">--能输出毫秒的systimestamp</span></span><br><span class="line"><span class="keyword">select</span> to_char(systimestamp,<span class="string">&#x27;yyyy/MM-dd hh24:mm:ss ff&#x27;</span>) <span class="keyword">from</span> dual;</span><br><span class="line"><span class="comment">--将数字转换成规定的格式输出</span></span><br><span class="line"><span class="keyword">select</span> to_char(<span class="number">13123.5</span>,<span class="string">&#x27;99,999.99&#x27;</span>) <span class="keyword">from</span> dual;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="2-to-number"><a href="#2-to-number" class="headerlink" title="2.to_number"></a>2.to_number</h4><ul>
<li><p>将含数字的字符串转为数字</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> to_number(<span class="string">&#x27;12345&#x27;</span>) <span class="keyword">from</span> dual;  <span class="comment">--12345</span></span><br><span class="line"><span class="keyword">select</span> to_number(<span class="string">&#x27;ad&#x27;</span>) <span class="keyword">from</span> dual; <span class="comment">--报错</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="3-to-date"><a href="#3-to-date" class="headerlink" title="3.to_date"></a>3.to_date</h4><ul>
<li><p>把字符串转为日期格式</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--</span></span><br><span class="line">to_date(字符串，要转换的格式)</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">to_date</span>(<span class="string">&#x27;2020-12-06&#x27;</span>,<span class="string">&#x27;yyyy-MM-dd&#x27;</span>)</span><br><span class="line"><span class="comment">--将emp中出生日期(hiredate)&gt;=1982-01-01的员工输出出来</span></span><br><span class="line"><span class="comment">--用to_date将出生日期转换成日期格式</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">where</span> hiredate&gt;=<span class="keyword">to_date</span>(<span class="string">&#x27;1982-01-01&#x27;</span>,<span class="string">&#x27;yyyy-MM-dd&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="4-时间函数"><a href="#4-时间函数" class="headerlink" title="4.时间函数"></a>4.时间函数</h3><h4 id="1-获取时间的函数"><a href="#1-获取时间的函数" class="headerlink" title="1.获取时间的函数"></a>1.获取时间的函数</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--获取服务器系统时间</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">sysdate</span> <span class="keyword">from</span> dual; </span><br><span class="line"><span class="comment">--获取当前时间</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">current_date</span> <span class="keyword">from</span> dual; <span class="comment">--current 现在的</span></span><br><span class="line"><span class="comment">----获取当前时间完整的时间戳，在oracle中获取的时0时区的，在sql中获取的是window所在的时区</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">current_timestamp</span> <span class="keyword">from</span> dual; </span><br><span class="line"><span class="comment">----获取服务器系统时间戳，都是获取0时区的</span></span><br><span class="line"><span class="keyword">select</span> systimestamp <span class="keyword">from</span> dual;</span><br><span class="line"><span class="comment">--获取当前时区</span></span><br><span class="line"><span class="keyword">select</span> sessiontimezone <span class="keyword">from</span> dual;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="5-日期函数"><a href="#5-日期函数" class="headerlink" title="5.日期函数"></a>5.日期函数</h3><h4 id="1-months-between"><a href="#1-months-between" class="headerlink" title="1.months_between"></a>1.months_between</h4><ul>
<li><p>求两个时间的月份差</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--在ORACLE中计算月份的差值，日期相同（如都是20号），都会按整月计算。</span></span><br><span class="line"><span class="comment">--如果计算结果不是整数，ORACLE会把31作为分母来计算</span></span><br><span class="line"><span class="keyword">select</span> months_between(<span class="keyword">to_date</span>(<span class="string">&#x27;2020-10-01&#x27;</span>,<span class="string">&#x27;yyyy-MM-dd&#x27;</span>),<span class="keyword">to_date</span>(<span class="string">&#x27;2020-08-20&#x27;</span>,<span class="string">&#x27;yyyy-MM-dd&#x27;</span>)) <span class="keyword">from</span> dual;  <span class="comment">--  1.38709677419355</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="2-add-months"><a href="#2-add-months" class="headerlink" title="2.add_months"></a>2.add_months</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--给系统时间往后增加6个月</span></span><br><span class="line"><span class="keyword">select</span> add_months(<span class="keyword">sysdate</span>,<span class="number">6</span>) <span class="keyword">from</span> dual;</span><br><span class="line"><span class="comment">--给当前系统时间减6个月</span></span><br><span class="line"><span class="keyword">select</span> add_months(<span class="keyword">sysdate</span>,<span class="number">-6</span>) <span class="keyword">from</span> dual;</span><br><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="keyword">select</span> add_months(<span class="keyword">to_date</span>(<span class="string">&#x27;2020-02-02&#x27;</span>,<span class="string">&#x27;yyyy-MM-dd&#x27;</span>),<span class="number">-6</span>) <span class="keyword">from</span> dual;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">---- 查询从比入职时间1980-01-01晚18个月的员工信息</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">where</span> hiredate&gt;=add_months(<span class="keyword">to_date</span>(<span class="string">&#x27;1980-01-01&#x27;</span>,<span class="string">&#x27;yyyy-MM-dd&#x27;</span>),<span class="number">18</span>); </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="3-next-day"><a href="#3-next-day" class="headerlink" title="3.next_day"></a>3.next_day</h4><ul>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/newcityboy/p/11984314.html">https://www.cnblogs.com/newcityboy/p/11984314.html</a></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> next_day(<span class="keyword">sysdate</span>,<span class="string">&#x27;星期二&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="4-last-day"><a href="#4-last-day" class="headerlink" title="4.last_day"></a>4.last_day</h4><ul>
<li><p>求当前日期月份的最后一天日期</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--最后一天</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">last_day</span>(sysydate) <span class="keyword">from</span> dual;</span><br><span class="line"><span class="comment">--求当前日期所在月份的第一天的日期</span></span><br><span class="line"><span class="keyword">select</span> trunc(<span class="keyword">sysdate</span>,<span class="string">&#x27;month&#x27;</span>) <span class="keyword">from</span> dual;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="6-通用函数-选择"><a href="#6-通用函数-选择" class="headerlink" title="6.通用函数(选择)"></a>6.通用函数(选择)</h3><h4 id="1-nvl"><a href="#1-nvl" class="headerlink" title="1.nvl"></a>1.nvl</h4><ul>
<li><p>从两个表达式中返回一个非null的值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">nvl(E1，E2)  </span><br><span class="line">功能：如果E1为NULL，则函数返回E2，否则返回E1本身。</span><br><span class="line"><span class="keyword">select</span> nvl(comm,<span class="number">0</span>) <span class="keyword">from</span> emp;</span><br><span class="line"><span class="comment">--求工资+奖金的和</span></span><br><span class="line"><span class="keyword">select</span> ename,sal+nvl(comm,<span class="number">0</span>) <span class="keyword">from</span> emp;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="2-nvl2"><a href="#2-nvl2" class="headerlink" title="2.nvl2"></a>2.nvl2</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">nvl2(E1,E2,E3) 功能为：</span><br><span class="line">如果E1为null，则函数返回E3,若E1不为null，则函数返回E2.</span><br><span class="line"><span class="comment">--求总工资：基本工资+奖金</span></span><br><span class="line"><span class="keyword">select</span> ename,nvl2(comm,sal+comm,sal) <span class="keyword">from</span> emp;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="3-coalesce-合并"><a href="#3-coalesce-合并" class="headerlink" title="3.coalesce(合并)"></a>3.coalesce(合并)</h4><ul>
<li><p>合并函数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--coalesce返回参数列表中第一个非null表达式</span></span><br><span class="line"><span class="comment">--必须指定最少两个参数</span></span><br><span class="line"><span class="comment">--如果所有参数都为null，则返回null</span></span><br><span class="line"><span class="keyword">select</span> ename,sal,<span class="keyword">coalesce</span>(sal+comm,sal+<span class="number">0</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



</li>
</ul>
<h4 id="4-case表达式"><a href="#4-case表达式" class="headerlink" title="4.case表达式"></a>4.case表达式</h4><ul>
<li><p>分支判断</p>
</li>
<li><p>例子</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> ename,</span><br><span class="line">       (<span class="keyword">case</span></span><br><span class="line">         <span class="keyword">when</span> comm &gt;= <span class="number">1000</span> <span class="keyword">then</span> <span class="string">&#x27;大佬&#x27;</span></span><br><span class="line">         <span class="keyword">when</span> comm &gt;= <span class="number">500</span> <span class="keyword">then</span> <span class="string">&#x27;小大佬&#x27;</span></span><br><span class="line">         <span class="keyword">else</span> <span class="string">&#x27;菜鸟&#x27;</span></span><br><span class="line">        <span class="keyword">end</span>) 称号</span><br><span class="line"><span class="keyword">from</span> emp;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 根据员工基本工资，做一个评级操作</span></span><br><span class="line">基本工资在500以下的，C级</span><br><span class="line">基本工资在500-1000(不含)的，B级</span><br><span class="line">基本工资在1000及以上的，A级</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> ename,sal,comm,sal+nvl(comm,<span class="number">0</span>) 工资总和,</span><br><span class="line">       (<span class="keyword">case</span></span><br><span class="line">         <span class="keyword">when</span> sal+nvl(comm,<span class="number">0</span>) &gt;=<span class="number">5000</span> <span class="keyword">then</span> <span class="string">&#x27;S级&#x27;</span></span><br><span class="line">         <span class="keyword">when</span> sal+nvl(comm,<span class="number">0</span>) &gt;= <span class="number">1000</span> <span class="keyword">then</span> <span class="string">&#x27;A级&#x27;</span></span><br><span class="line">         <span class="keyword">when</span> sal+nvl(comm,<span class="number">0</span>) &gt;= <span class="number">500</span> <span class="keyword">then</span> <span class="string">&#x27;B级&#x27;</span></span><br><span class="line">         <span class="keyword">else</span> <span class="string">&#x27;C级&#x27;</span></span><br><span class="line">        <span class="keyword">end</span>) 工资等级 </span><br><span class="line"><span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> sal+nvl(comm,<span class="number">0</span>) <span class="keyword">desc</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="5-decode"><a href="#5-decode" class="headerlink" title="5.decode"></a>5.decode</h4><ul>
<li><p>例子</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--decode(条件,值1,返回值1,值2,返回值2,...值n,返回值n)</span></span><br><span class="line">decode(X，A，B，C，D，E）</span><br><span class="line">这个函数运行的结果是，当X = A，函数返回B；当X != A 且 X = C，函数返回D；当X != A 且 X != C，函数返回E。 其中，X、A、B、C、D、E都可以是表达式</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--SQL创建一个学生信息表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student</span><br><span class="line">(Sno <span class="built_in">CHAR</span>(<span class="number">9</span>) PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">Sname <span class="built_in">CHAR</span>(<span class="number">20</span>) <span class="keyword">UNIQUE</span>,</span><br><span class="line">Ssex <span class="built_in">CHAR</span>(<span class="number">2</span>),</span><br><span class="line">Sage <span class="built_in">SMALLINT</span>,</span><br><span class="line">Sdept <span class="built_in">CHAR</span>(<span class="number">20</span>) );</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;1003&#x27;</span>,<span class="string">&#x27;李3&#x27;</span>,<span class="number">20</span>,<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line"><span class="comment">--判断学生性别</span></span><br><span class="line"><span class="keyword">select</span> s.sid,s.sname,s.sage, <span class="keyword">decode</span>(sgender,<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;男&#x27;</span>) <span class="keyword">as</span> <span class="string">&quot;性别&quot;</span> <span class="keyword">from</span> student s</span><br><span class="line"></span><br></pre></td></tr></table></figure>



</li>
</ul>
<h3 id="7-分组函数（聚合函数）"><a href="#7-分组函数（聚合函数）" class="headerlink" title="7.分组函数（聚合函数）"></a>7.分组函数（聚合函数）</h3><h4 id="1-count"><a href="#1-count" class="headerlink" title="1.count"></a>1.count</h4><ul>
<li><p>用来做计数统计(非空值列)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">count(*)或者count(数字)会统计所有数据列的数量，不会排除空值</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(empno) <span class="keyword">from</span> emp;  <span class="comment">--16</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(comm) <span class="keyword">from</span> emp;   <span class="comment">--4</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="2-avg"><a href="#2-avg" class="headerlink" title="2.avg"></a>2.avg</h4><ul>
<li><p>求平均值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">avg</span>(comm) <span class="keyword">from</span> emp;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="3-max"><a href="#3-max" class="headerlink" title="3.max"></a>3.max</h4><ul>
<li><p>求最大值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--求工资的最大值</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">max</span>(sal) <span class="keyword">from</span> emp;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="4-min"><a href="#4-min" class="headerlink" title="4.min"></a>4.min</h4><ul>
<li><p>求最小值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">min</span>(sal) <span class="keyword">from</span> emp;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="5-sum"><a href="#5-sum" class="headerlink" title="5.sum"></a>5.sum</h4><ul>
<li><p>得到当前所在列的累加之和</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--统计工资总和</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">sum</span>(sal) <span class="keyword">from</span> emp;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="6-总结"><a href="#6-总结" class="headerlink" title="6.总结"></a>6.总结</h4><ul>
<li><p>以上分组函数在遇到数据列中有空值的情况时，会忽略掉空值，也就是说只会计算 非空值的部分</p>
</li>
<li><p>count(*)或者count(数字)会统计所有数据列的数量，不会排除空值</p>
</li>
</ul>
<h3 id="8-分组子句"><a href="#8-分组子句" class="headerlink" title="8.分组子句"></a>8.分组子句</h3><h4 id="1-group-by子句"><a href="#1-group-by子句" class="headerlink" title="1.group by子句"></a>1.group by子句</h4><ul>
<li>专门用于对数据列进行分组操作，然后会结合分组函数进行求和，平均，最大/小值等操作</li>
<li>为了能看到部门信息，通常会把分组的列置于select子句中</li>
<li>当select子句中有分组（聚合）函数的列时，不能再出现其他普通列，除非是分组函数的列，即group by 分组的列</li>
<li>当select子句后有group by子句时，先进行group by分组操作，后执行select子句中的聚合函数操作</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="keyword">select</span> deptno,<span class="keyword">sum</span>(sal),<span class="keyword">max</span>(sal)  <span class="comment">--出现了max(sal)等分组函数，将不能再出现sal,ename等普通列</span></span><br><span class="line"><span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> deptno  <span class="comment">--分组的列,可以出现在select子句中</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> <span class="keyword">sum</span>(sal)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="2-having-子句"><a href="#2-having-子句" class="headerlink" title="2.having 子句"></a>2.having 子句</h4><ul>
<li>通常出现在group by的后面，对统计后的数据进行筛选操作</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--求个部门中平均工资低于2500的部门信息</span></span><br><span class="line"><span class="keyword">select</span> deptno,<span class="keyword">avg</span>(sal)</span><br><span class="line"><span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> deptno</span><br><span class="line"><span class="keyword">having</span> <span class="keyword">avg</span>(sal)&lt;<span class="number">2500</span>  <span class="comment">--后筛选子句having</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--先筛选基本工资在2000以上的数据再根据部门进行分组，然后统计每个部门的平均工资</span></span><br><span class="line"><span class="keyword">select</span> deptno,<span class="keyword">avg</span>(sal)</span><br><span class="line"><span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">where</span> sal &gt; <span class="number">2000</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> deptno</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h4 id="3-总结"><a href="#3-总结" class="headerlink" title="3.总结"></a>3.总结</h4><ul>
<li>当selec语句中同时出现了where子句，group by子句，having子句时，执行顺序为：where &gt; group by &gt; having</li>
<li>该流程：where先筛选出需要统计的数据，group by再将数据进行分组，having再将分组后的数据进行筛选。</li>
<li>is null / not is null 和!=0 / =0有区别</li>
</ul>
<h2 id="6-4多表查询"><a href="#6-4多表查询" class="headerlink" title="6.4多表查询"></a>6.4多表查询</h2><h3 id="1-笛卡尔积的问题-等值查询"><a href="#1-笛卡尔积的问题-等值查询" class="headerlink" title="1.笛卡尔积的问题(等值查询)"></a>1.笛卡尔积的问题(等值查询)</h3><ul>
<li>A表有4个元素。B表有3个元素，进行笛卡尔积操作后新表里有4*3=12个元素</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--希望查询员工信息的同时，把每个员工对应的部门信息也找出来</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp;  <span class="comment">--16</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> dept;  <span class="comment">--4</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp,dept; <span class="comment">--64</span></span><br><span class="line"><span class="comment">--需要消除笛卡尔的错误匹配情况，需要建立正确的表之间的连接操作</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp e, dept d</span><br><span class="line"><span class="comment">--通过等值连接，筛选正确的数据</span></span><br><span class="line"><span class="keyword">where</span> e.deptno = d.deptno;</span><br><span class="line"></span><br><span class="line"><span class="comment">--当表连接建立成功后，通过表明.列名的方式挑选出需要的数据列</span></span><br><span class="line"><span class="keyword">select</span> e.*,d.dname,d.loc</span><br><span class="line"><span class="comment">--或者：select e.dpntno,e.ename,d.dname,d.loc来选出想显示的列</span></span><br><span class="line"><span class="keyword">from</span> emp e,dept d</span><br><span class="line"><span class="keyword">where</span> e.deptno = d.deptno;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="2-非等值查询"><a href="#2-非等值查询" class="headerlink" title="2.非等值查询"></a>2.非等值查询</h3><p>非等值查询  不是   值不相等查询，值不相等查询就值不相等的查询</p>
<h4 id="1-语法："><a href="#1-语法：" class="headerlink" title="1.语法："></a>1.语法：</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--查询每个员工的工资等级，</span></span><br><span class="line"><span class="comment">--显示员工编号，员工姓名，基本工资，工资等级</span></span><br><span class="line"><span class="keyword">select</span> e.empno,e.ename,e.sal,s.grade </span><br><span class="line"><span class="keyword">from</span> emp e,salgrade s</span><br><span class="line"><span class="comment">--使用非等值连接条件过滤掉错误的匹配</span></span><br><span class="line"><span class="keyword">where</span> e.sal <span class="keyword">between</span> s.losal <span class="keyword">and</span> s.hisal</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="3-自连接查询"><a href="#3-自连接查询" class="headerlink" title="3.自连接查询"></a>3.自连接查询</h3><h4 id="1-例子"><a href="#1-例子" class="headerlink" title="1.例子"></a>1.例子</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询所有员工的编号、姓名及上级编号和姓名</span></span><br><span class="line"><span class="keyword">select</span> e1.empno,e1.ename,e2.ename,e2.empno</span><br><span class="line"><span class="keyword">from</span> emp e1,emp e2</span><br><span class="line"><span class="keyword">where</span> e1.mgr=e2.empno</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="4-内连接"><a href="#4-内连接" class="headerlink" title="4.内连接"></a>4.内连接</h3><p>只能匹配到两张表有相对应的内容，不对应的信息不会显示出来</p>
<h4 id="1-例子，两个等效"><a href="#1-例子，两个等效" class="headerlink" title="1.例子，两个等效"></a>1.例子，两个等效</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--内连接(99标准）</span></span><br><span class="line"><span class="keyword">select</span> e.empno,e.ename,e.deptno,d.dname</span><br><span class="line"><span class="keyword">from</span> emp e <span class="comment">--A表</span></span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> dept d  <span class="comment">--B表</span></span><br><span class="line"><span class="keyword">on</span> e.deptno = d.deptno  <span class="comment">--连接条件</span></span><br><span class="line"><span class="comment">--A表中只有10，20，30号部门的信息只能匹配到</span></span><br><span class="line"><span class="comment">--B表的10,20,30号部门信息，不能匹配到40号的</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>




<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">--等值查询(92标准)</span></span><br><span class="line"><span class="keyword">select</span> e.empno,e.ename,e.deptno,d.dname</span><br><span class="line"><span class="keyword">from</span> emp e,dept d</span><br><span class="line"><span class="keyword">where</span> e.deptno = d.deptno</span><br><span class="line"><span class="comment">--A表中只有10，20，30号部门的信息只能匹配到</span></span><br><span class="line"><span class="comment">--B表的10,20,30号部门信息，不能匹配到40号部门的信息</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>








<h3 id="5-外连接"><a href="#5-外连接" class="headerlink" title="5.外连接"></a>5.外连接</h3><h4 id="1-左连接（左外连接）"><a href="#1-左连接（左外连接）" class="headerlink" title="1.左连接（左外连接）"></a>1.左连接（左外连接）</h4><ul>
<li>左外连接</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--查询所有部门的员工信息</span></span><br><span class="line"><span class="comment">--以部门表为主,部门表在左边</span></span><br><span class="line"><span class="comment">--从左往右匹配</span></span><br><span class="line"></span><br><span class="line">部门表     员工表</span><br><span class="line"><span class="keyword">select</span> e.empno,e.ename,d.deptno,d.dname</span><br><span class="line"><span class="keyword">from</span> dept d</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> emp e</span><br><span class="line"><span class="keyword">on</span> d.deptno = e.deptno</span><br><span class="line"><span class="comment">--这样就算员工表(右表)中没有没有对应的部门信息，但部门表(左表)会返回空值替代</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="2-右连接-右外连接"><a href="#2-右连接-右外连接" class="headerlink" title="2.右连接(右外连接)"></a>2.右连接(右外连接)</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--查询所有部门的员工信息</span></span><br><span class="line"><span class="comment">--以员工表为主,部门表在右边</span></span><br><span class="line"><span class="comment">--从右往左匹配</span></span><br><span class="line"></span><br><span class="line">员工表      部门表</span><br><span class="line"><span class="keyword">select</span> e.empno,e.ename,e.deptno,d.dname</span><br><span class="line"><span class="keyword">from</span> emp e</span><br><span class="line"><span class="keyword">right</span> <span class="keyword">join</span> dept d</span><br><span class="line"><span class="keyword">on</span> e.deptno = d.deptno</span><br><span class="line"><span class="comment">--这样就算员工表(左表)中没有没有对应的部门信息，但部门表(右表)会返回空值替代</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="3-全连接-full-join"><a href="#3-全连接-full-join" class="headerlink" title="3.全连接(full join)"></a>3.全连接(full join)</h4><ul>
<li><p>相当于左外，右外连接的结合，不用考虑左右表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--查询emp，dept表的所有信息</span></span><br><span class="line"><span class="keyword">select</span> e.*,d.*</span><br><span class="line"><span class="keyword">from</span> emp e</span><br><span class="line"><span class="keyword">full</span> <span class="keyword">join</span> dept d</span><br><span class="line"><span class="keyword">on</span> e.deptno = d.deptno</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="4-总结"><a href="#4-总结" class="headerlink" title="4.总结"></a>4.总结</h4><ul>
<li><p><strong>A inner join B</strong> 取交集。</p>
</li>
<li><p><strong>A left join B</strong> 取 A 全部，B 没有对应的值为 null。</p>
</li>
<li><p><strong>A right join B</strong> 取 B 全部， A 没有对应的值为 null。</p>
</li>
<li><p><strong>A full outer join B</strong> 取并集，彼此没有对应的值为 null。</p>
</li>
<li><p>对应条件在 <strong>on</strong> 后面填写。</p>
</li>
</ul>
<h3 id="6-集合操作"><a href="#6-集合操作" class="headerlink" title="6.集合操作"></a>6.集合操作</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--把10号部门的员工信息存入临时表emp10中</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> emp10 <span class="keyword">as</span> </span><br><span class="line">(<span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> deptno = <span class="number">10</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="1-union（并集U）"><a href="#1-union（并集U）" class="headerlink" title="1.union（并集U）"></a>1.union（并集U）</h4><ul>
<li><p>多个结果并集，并去掉反复值</p>
</li>
<li><p>并集成功的前提：查询两个表的列数相同，且列的数据类型一致</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--向临时表emp10插入一条信息</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp10(empno,ename,deptno)</span><br><span class="line"><span class="keyword">values</span>(<span class="number">9999</span>,<span class="string">&#x27;jerry&#x27;</span>,<span class="number">40</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">--把格式相同的emp表，emp10表并集在一起</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp10</span><br><span class="line"></span><br><span class="line"><span class="comment">--数据类型一致、数据列的数量要一致</span></span><br><span class="line"><span class="keyword">select</span> empno, ename <span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> <span class="number">10</span>,<span class="string">&#x27;20&#x27;</span> <span class="keyword">from</span> dual;</span><br><span class="line"></span><br><span class="line"><span class="comment">--数据类型不一致</span></span><br><span class="line"><span class="keyword">select</span> empno, ename <span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> <span class="number">10</span>,<span class="number">20</span> <span class="keyword">from</span> dual;</span><br><span class="line"></span><br><span class="line"><span class="comment">--数据列的数量不一致</span></span><br><span class="line"><span class="keyword">select</span> empno, ename <span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> <span class="number">10</span> <span class="keyword">from</span> dual;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



</li>
</ul>
<h4 id="2-union-all"><a href="#2-union-all" class="headerlink" title="2.union all"></a>2.union all</h4><ul>
<li><p>把所有数据都并集在一起，且不去除重复项</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">union</span> <span class="keyword">all</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp10</span><br><span class="line"><span class="comment">--总共出来18条数据</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



</li>
</ul>
<h4 id="3-intersect-交集"><a href="#3-intersect-交集" class="headerlink" title="3.intersect 交集"></a>3.intersect 交集</h4><ul>
<li><p>返回两个表中相同的数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">intersect</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp10</span><br><span class="line"></span><br></pre></td></tr></table></figure>



</li>
</ul>
<h4 id="4-minus-差集"><a href="#4-minus-差集" class="headerlink" title="4.minus 差集"></a>4.minus 差集</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--从emp表中减去和emp10表中相同的部分，返回emp表的结果</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">minus</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp10</span><br><span class="line"></span><br><span class="line"><span class="comment">--从emp10表中减去和emp表中相同的部分，返回emp10表的结果</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp10</span><br><span class="line"><span class="keyword">minus</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp</span><br><span class="line"></span><br></pre></td></tr></table></figure>







<h3 id="7-子查询-嵌套查询"><a href="#7-子查询-嵌套查询" class="headerlink" title="7.子查询(嵌套查询)"></a>7.子查询(嵌套查询)</h3><h4 id="1-简单子查询："><a href="#1-简单子查询：" class="headerlink" title="1.简单子查询："></a>1.简单子查询：</h4><ul>
<li>一个查询语句内部包含着一个完整的查询语句，这种结构叫做子查询</li>
<li>执行流程：限制性括号内的子查询，再执行父查询</li>
<li>一般出现的位置：where的条件部分，from语句中，select子句中</li>
<li>子查询的sql跟父查询没有关系，是一条独立的语句，可以单独运行</li>
<li>自内向外(先运行内部的子查询，再运行外部父查询)</li>
</ul>
<h4 id="2-单行子查询"><a href="#2-单行子查询" class="headerlink" title="2.单行子查询"></a>2.单行子查询</h4><ul>
<li>子查询返回结果只有一行叫单行子查询</li>
<li>使用情况：&gt;,  &lt;,  =,  &lt;&gt;/!=,  &gt;=,  &lt;=</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--查询谁的工资比ALLEN高</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">where</span> sal &gt; (<span class="keyword">select</span> sal <span class="keyword">from</span> emp <span class="keyword">where</span> ename = <span class="string">&#x27;ALLEN&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--不限定于一种写法</span></span><br><span class="line"><span class="keyword">select</span> ename,sal <span class="keyword">from</span></span><br><span class="line">(<span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> sal &gt; <span class="number">1600</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">--查询哪些人跟ALLEN在一个部门</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp e</span><br><span class="line"><span class="keyword">where</span> e.deptno= </span><br><span class="line">(<span class="keyword">select</span> deptno <span class="keyword">from</span> emp <span class="keyword">where</span> ename = <span class="string">&#x27;ALLEN&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--error</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp e</span><br><span class="line"><span class="keyword">where</span> e.deptno= </span><br><span class="line">(<span class="keyword">select</span> deptno <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">&#x27;A%&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="3-多行子查询-in"><a href="#3-多行子查询-in" class="headerlink" title="3.多行子查询(in)"></a>3.多行子查询(in)</h4><ul>
<li><p>in 从多个值中任取一个值进行匹配</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">where</span> deptno <span class="keyword">in</span> (<span class="keyword">select</span> deptno <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">&#x27;A%&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="4-子查询没有返回值的情况"><a href="#4-子查询没有返回值的情况" class="headerlink" title="4.子查询没有返回值的情况"></a>4.子查询没有返回值的情况</h4><ul>
<li><p>单行/多行子查询：子查询无返回值，父查询也就没有返回结果</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--单行</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">where</span> sal &gt; (<span class="keyword">select</span> sal <span class="keyword">from</span> emp <span class="keyword">where</span> ename = <span class="string">&#x27;TONY&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--多行</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">where</span> deptno <span class="keyword">in</span> (<span class="keyword">select</span> deptno <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">&#x27;Z%&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="5-any"><a href="#5-any" class="headerlink" title="5.any"></a>5.any</h4><ul>
<li><p>any 和子查询返回的某一个值比较，取最小值</p>
</li>
<li><p>父查询查询大于子查询的最小值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--例子1：</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp </span><br><span class="line"><span class="keyword">where</span> sal &gt; <span class="keyword">any</span> (  <span class="comment">--等价：sal&gt;1100</span></span><br><span class="line"><span class="keyword">select</span> sal <span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">&#x27;A%&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--例子2</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">where</span> deptno = <span class="keyword">any</span> (<span class="keyword">select</span> deptno <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">&#x27;M%&#x27;</span>)  </span><br><span class="line"><span class="comment">--👆子查询返回10，30，any后一个个值单一比较</span></span><br><span class="line"><span class="comment">--等价where dept = 10/30</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">where</span> deptno &gt; <span class="keyword">any</span> (<span class="keyword">select</span> deptno <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">&#x27;M%&#x27;</span>) <span class="comment">--子查询返回10，30</span></span><br><span class="line"><span class="comment">-- 等价where dept &gt; 10</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>





</li>
</ul>
<h4 id="6-all"><a href="#6-all" class="headerlink" title="6.all"></a>6.all</h4><ul>
<li><p>all 和子查询返回的所有值比较，取最大值</p>
</li>
<li><p>父查询查询大于子查询的最大值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">where</span> sal &gt; <span class="keyword">all</span> (  <span class="comment">--等价：sal&gt;1600</span></span><br><span class="line"><span class="keyword">select</span> sal <span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">&#x27;A%&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--ERROR  因为没有人既属于10号部门又属于20号部门</span></span><br><span class="line">  <span class="keyword">select</span> * <span class="keyword">from</span> emp</span><br><span class="line">  <span class="keyword">where</span> deptno = <span class="keyword">all</span> (<span class="number">10</span>,<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="7-相关子查询-关联子查询"><a href="#7-相关子查询-关联子查询" class="headerlink" title="7.相关子查询(关联子查询)"></a>7.相关子查询(关联子查询)</h4><ul>
<li><p>子查询不能独立运行，需要依赖于外部父查询</p>
</li>
<li><p>由外向内(先运行外部的查询，再运行内部子查询)</p>
</li>
<li><p>例子1：</p>
</li>
</ul>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--查询工资高于本部门平均工资的所有员工信息</span></span><br><span class="line"><span class="comment">--查询工资高于平均工资的所有员工信息</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> sal  &gt; (</span><br><span class="line">    <span class="comment">--所有员工的平均工资</span></span><br><span class="line">    <span class="keyword">select</span> <span class="keyword">avg</span>(sal) <span class="keyword">from</span> emp</span><br><span class="line">)</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp e1 <span class="keyword">where</span> sal  &gt; (</span><br><span class="line">    <span class="comment">--本部门</span></span><br><span class="line">    <span class="keyword">select</span> <span class="keyword">avg</span>(sal) <span class="keyword">from</span> emp </span><br><span class="line">    <span class="keyword">where</span> deptno = e1.deptno</span><br><span class="line">)</span><br></pre></td></tr></table></figure>


  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">例子2：</span><br><span class="line"></span><br><span class="line">​&#96;&#96;&#96;sql</span><br><span class="line">--统计每个部门的信息和人数</span><br><span class="line">select * from dept;</span><br><span class="line">-- 10号部门人数</span><br><span class="line">select count(1) from emp where deptno&#x3D;10;</span><br><span class="line">--合体</span><br><span class="line">select d.*, </span><br><span class="line">    (select count(1) from emp </span><br><span class="line">     where deptno &#x3D; d.deptno) 人数 </span><br><span class="line">from dept d;</span><br></pre></td></tr></table></figure>

<h3 id="8-topN"><a href="#8-topN" class="headerlink" title="8.topN"></a>8.topN</h3><ul>
<li><p>取前十条信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">rownum</span> &lt;=<span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--取不到后5条</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">rownum</span> &gt; <span class="number">10</span>; <span class="comment">--没有</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>取出后五条信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">rownum</span> nu,ename <span class="keyword">from</span> (<span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> <span class="keyword">rownum</span> <span class="keyword">desc</span>)</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">rownum</span>&lt;=<span class="number">5</span> </span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>取出5-10条</p>
</li>
<li><pre><code class="sql">select * from (select rownu nu,e.* from emp)
where nu&gt;5 and nu &lt;=10;

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* </span><br><span class="line"></span><br><span class="line">### 9.分页</span><br><span class="line"></span><br><span class="line">* 公式</span><br><span class="line"></span><br><span class="line">  &#96;&#96;&#96;sql</span><br><span class="line">  --分页</span><br><span class="line">  --pageSize&#x3D;5 每页的数据</span><br><span class="line">  --pageNum&#x3D;2 页数</span><br><span class="line">  --公式</span><br><span class="line">  SELECT * FROM  (  </span><br><span class="line">      -- topN</span><br><span class="line">      SELECT temp.*, ROWNUM RN   </span><br><span class="line">      FROM (SELECT * FROM 表名) temp  </span><br><span class="line">      WHERE ROWNUM &lt;&#x3D;end (pageNum*pagesize)  </span><br><span class="line">  )  </span><br><span class="line">  WHERE RN &gt;&#x3D;start [(pageNum-1)*pagesize+1]</span><br><span class="line">  </span><br><span class="line">  </span><br></pre></td></tr></table></figure></code></pre>
</li>
<li><p>例子</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--Num=5,Size=3</span></span><br><span class="line"><span class="comment">--按工资进行升序</span></span><br><span class="line"><span class="keyword">select</span> temp.empno,temp.ename,temp.deptno</span><br><span class="line"><span class="keyword">from</span> (</span><br><span class="line">   <span class="keyword">select</span> <span class="keyword">rownum</span> rn, emp.* </span><br><span class="line">   <span class="keyword">from</span>(<span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> sal) emp </span><br><span class="line">   <span class="keyword">where</span> <span class="keyword">rownum</span> &lt;=<span class="number">15</span></span><br><span class="line">) temp</span><br><span class="line"><span class="keyword">where</span> temp.rn&gt;=<span class="number">11</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--Num=5,Size=3</span></span><br><span class="line"><span class="comment">--无排序</span></span><br><span class="line"><span class="keyword">select</span> temp.empno,temp.ename,temp.deptno</span><br><span class="line"><span class="keyword">from</span> (</span><br><span class="line">   <span class="keyword">select</span> <span class="keyword">rownum</span> rn, emp.* </span><br><span class="line">   <span class="keyword">from</span> emp </span><br><span class="line">   <span class="keyword">where</span> <span class="keyword">rownum</span> &lt;=<span class="number">15</span></span><br><span class="line">) temp</span><br><span class="line"><span class="keyword">where</span> temp.rn&gt;=<span class="number">11</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



</li>
</ul>
<h3 id="10-exists"><a href="#10-exists" class="headerlink" title="10.exists"></a>10.exists</h3><ul>
<li><p>exists子查询：</p>
<p>若有返回结果，则返回true，父查询获取到true结果后，则执行父查询</p>
<p>若无返回结果，则返回false，父查询获取到false结果后，则不执行父查询</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--多行子查询</span></span><br><span class="line"><span class="comment">--子查询先运行，运行后，结果保存到缓存中，父查询再执行时，每次从缓存取数据</span></span><br><span class="line"><span class="comment">--适合于父表查询数据量大，子表查询数据量少的情况</span></span><br><span class="line"><span class="comment">--不适合父表查询数据量小，子表查询数据量大的情况</span></span><br><span class="line"><span class="comment">--因为数据量大，查询耗时，缓存占用空间</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> deptno <span class="keyword">in</span>(</span><br><span class="line">    <span class="keyword">select</span> deptno <span class="keyword">from</span> dept <span class="keyword">where</span> dname=<span class="string">&#x27;SALES&#x27;</span></span><br><span class="line">);  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--exists子查询，每次执行时，不缓存</span></span><br><span class="line"><span class="comment">--每执行一次，连接一次数据库进行判断。</span></span><br><span class="line"><span class="comment">--如果没找到，继续执行</span></span><br><span class="line"><span class="comment">--如果找到了了，就不找了，退出子查询</span></span><br><span class="line"><span class="comment">--故exists适用于子表查询数据量大，父表查询数据量小的情况</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> <span class="keyword">exists</span> (</span><br><span class="line">    <span class="keyword">select</span> deptno <span class="keyword">from</span> dept <span class="keyword">where</span> dname = <span class="string">&#x27;SALES&#x27;</span></span><br><span class="line">);<span class="comment">--error</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> <span class="keyword">exists</span> (</span><br><span class="line">    <span class="keyword">select</span> deptno <span class="keyword">from</span> dept </span><br><span class="line">    <span class="keyword">where</span> dname = <span class="string">&#x27;SALES&#x27;</span> <span class="keyword">and</span> deptno = emp.deptno</span><br><span class="line">);<span class="comment">--correct</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--将exists子查询返回结果定为常量，不影响查询结果，而且效率高。</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> <span class="keyword">exists</span> (</span><br><span class="line">    <span class="keyword">select</span> <span class="number">1</span> <span class="keyword">from</span> dept </span><br><span class="line">    <span class="keyword">where</span> dname = <span class="string">&#x27;SALES&#x27;</span> <span class="keyword">and</span> deptno = emp.deptno</span><br><span class="line">); <span class="comment">--correct</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="7-数据库设计"><a href="#7-数据库设计" class="headerlink" title="7.数据库设计"></a>7.数据库设计</h2><ul>
<li><p>良好的数据库设计：</p>
<p>1.节省存储空间</p>
<p>2.保证数据完整性</p>
<p>3.方便后期数据应用系统的开发</p>
</li>
<li><p>糟糕的数据库设计</p>
<p>1.内存浪费</p>
<p>2.占空间，造成数据冗余</p>
<p>3.可能产生数据更新和插入，修改的异常</p>
</li>
</ul>
<h3 id="1-数据库设计的步骤"><a href="#1-数据库设计的步骤" class="headerlink" title="1.数据库设计的步骤"></a>1.数据库设计的步骤</h3><ol>
<li>需求分析：分析的是客户的业务和数据处理的需求  –  <strong>PRD</strong></li>
<li>概要设计：根据PRD设计数据库的E-R图，确认需求的正确性和完整性</li>
<li>详细设计：设计数据库，根据数据库的三范式进行数据库的设计与优化</li>
<li>代码编写阶段：实现物理数据库，编码实现</li>
<li>测试阶段：测试相关功能点</li>
<li>安装部署。。。</li>
</ol>
<h4 id="1-需求分析"><a href="#1-需求分析" class="headerlink" title="1.需求分析"></a>1.<strong>需求分析</strong></h4><p>​    1.收集信息</p>
<p>​       酒店管理系统：</p>
<p>​       客人：姓名，性别，ID，住哪间房</p>
<p>​       客房：价格，房型，床位</p>
<p>​    2.标注实体Entity</p>
<p>​        客人实体，客房实体</p>
<p>​    3.找出实体的属性Attribute</p>
<p>​        客人:姓名，性别，ID，住哪间房</p>
<p>​        客房：价格，房型，床位</p>
<p>​    4.标识实体之间的关系relationship</p>
<p>​        张三想住101房间，住2两天</p>
<p>​        客人 入住客房</p>
<p>​    </p>
<p>​    </p>
<h4 id="2-概要设计"><a href="#2-概要设计" class="headerlink" title="2.概要设计"></a>2.<strong>概要设计</strong></h4><p>E-R图</p>
<p>​    1.实体，用<strong>矩形</strong>表示</p>
<p>​    2.实体的属性， 用<strong>椭圆</strong>形表示</p>
<p>​    3.描述实体间的关系， 用<strong>菱形</strong>表示</p>
<p>​    </p>
<p>​    4.映射基数：</p>
<p>​                一对一，一对多，多对一，多对多</p>
<p>​                如：班级：学生 = 1：n   一个班级可以有很多学生</p>
<p>​                        学生：班级 = 1：1    一个学生只能对应一个班级</p>
<p>​                        QQ好友：本人 = m：n  多对多关系，我可以有很多人的好</p>
<p>​                                            很多人也可我有我为好友</p>
<p>   5.<strong>存在外键的为子表，子表通过外键与父表连接</strong></p>
<h4 id="3-详细设计（三范式）"><a href="#3-详细设计（三范式）" class="headerlink" title="3.详细设计（三范式）"></a>3.详细设计（三范式）</h4><p>1.三范式</p>
<p>​    <strong>1NF(第一范式):</strong></p>
<p>​        表中的每一列都是不可再分的原子，即每一列都只描述一件事情</p>
<p>​    <strong>2NF(第二范式):</strong></p>
<p>​       在满足1NF的基础上，表中的普通列，都要跟主键列有依赖关系，即要求每张表只描述一件事情</p>
<p>​    <strong>3NF(第三范式)：</strong></p>
<pre><code>      在满足2NF的基础上，表中的普通列都只能跟主键列有唯一依赖关系，不能有传递依赖关系</code></pre>
<p>​            如：A→B，B→C，=&gt;  A→C  为传递依赖，在3NF中不存在</p>
<p>​                    只能A→C和B→C，A，B是普通列</p>
<p>​    </p>
<p>2.</p>
<p>3.</p>
<h3 id="2-数据类型"><a href="#2-数据类型" class="headerlink" title="2.数据类型"></a>2.数据类型</h3><h4 id="1-数字类型number"><a href="#1-数字类型number" class="headerlink" title="1.数字类型number"></a>1.数字类型number</h4><ul>
<li><pre><code class="sql">number(p,s)
--p 参数指示可以存储的最大位数（小数点左侧和右侧）。p 必须是 1 到 38 之间的值。默认是 18。

--s 参数指示小数点右侧存储的最大位数。s 必须是 0 到 p 之间的值，默认是 0。

number(5,2)  --代表可存999.99

number(5,0)  --可存99999

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### 2.定长字符类型char &#x2F; nchar</span><br><span class="line"></span><br><span class="line">* **char**  固定长度的存储普通字符， 对英文字符占用1个字节，对一个汉字占用2个字节。 </span><br><span class="line"></span><br><span class="line">* 例子：</span><br><span class="line"></span><br><span class="line">  定义 char(10)，那么不论你存储的数据是否达到了10个字节，都要占去10个字节的空间，不够的字符用空格去填。因为是固定长度所以效率很高</span><br><span class="line"></span><br><span class="line">​           **https:&#x2F;&#x2F;www.cnblogs.com&#x2F;zhangchaoran&#x2F;p&#x2F;7326898.html**</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* **nchar**  存储unicode字符， **对每个英文字符都占用2个字节，对一个汉字也占用两个字节**，所有的字符都占用2个字节。（这是为了方便与其他多种字符进行转换，如中文，音标等） </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### 3.字符串类型varchar2 &#x2F; nvarchar2</span><br><span class="line"></span><br><span class="line">* varchar2  存储普通的字符串</span><br><span class="line"></span><br><span class="line">* nvarchar2 存储特殊的字符串 如带繁体字的</span><br><span class="line"></span><br><span class="line">* 区别：</span><br><span class="line"></span><br><span class="line">  1、NVARCHAR2(10)是可以存进去10个汉字的，如果用来存英文也只能   </span><br><span class="line"></span><br><span class="line">  ​       存10个字符。 </span><br><span class="line">   2、而VARCHAR2(10)的话，则只能存进5个汉字，英文则可以存10个； </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### 4.时间类型date</span><br><span class="line"></span><br><span class="line">* date  存储时间  2020-12-12 12:12:12</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### 5.blob &#x2F; clob</span><br><span class="line"></span><br><span class="line">* 存储数据大的，如图片，文件夹，</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 3.DDL数据定义</span><br><span class="line"></span><br><span class="line">#### 1.create</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;sql</span><br><span class="line">--创建一张表</span><br><span class="line">create table temp(</span><br><span class="line">	id char(10) not null primary key,</span><br><span class="line">    列名，数据类型，是否为空，是否为之间列</span><br><span class="line">    ...</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>




</code></pre>
</li>
</ul>
<h4 id="2-alter–add"><a href="#2-alter–add" class="headerlink" title="2.alter–add"></a>2.alter–add</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--修改表结构</span></span><br><span class="line"><span class="comment">--给客户信息表增加(会员卡号一列) alter</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> guestInfo</span><br><span class="line"><span class="keyword">add</span>(menbercard <span class="built_in">char</span>(<span class="number">10</span>));</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="3-rename"><a href="#3-rename" class="headerlink" title="3.rename"></a>3.rename</h4><ul>
<li>修改列名</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> guest <span class="keyword">rename</span> <span class="keyword">column</span> </span><br><span class="line">membercard <span class="keyword">to</span> memberId;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>修改表名</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--修改表名</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> guestInfo <span class="keyword">rename</span> <span class="keyword">to</span> guest;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h4 id="4-modify"><a href="#4-modify" class="headerlink" title="4.modify"></a>4.modify</h4><ul>
<li>修改列的数据类型</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--修改列的数据类型</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> guest</span><br><span class="line"><span class="keyword">modify</span>(memberId <span class="built_in">char</span>(<span class="number">12</span>));</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="5-drop"><a href="#5-drop" class="headerlink" title="5.drop"></a>5.drop</h4><ul>
<li>删除数据列</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--删除guest表中的数据列VIPId</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> guest</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">column</span> VIPId；</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>删除数据表</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--将数据表emp10删除</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> emp10;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>删除数据表的约束-主键</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 删除数据表的约束-主键</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> roomtype1</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">constraint</span>  SYS_C0010863;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>添加主键-约束</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 添加主键约束，pk--primary key</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> roomtype</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> pk_roomtype_typeid <span class="comment">-- 约束名</span></span><br><span class="line">primary <span class="keyword">key</span>(typeid);  <span class="comment">--指定主键约束</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="6-comment-on（添加注释）"><a href="#6-comment-on（添加注释）" class="headerlink" title="6.comment on（添加注释）"></a>6.comment on（添加注释）</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--添加列注释</span></span><br><span class="line"><span class="keyword">comment</span> <span class="keyword">on</span> <span class="keyword">column</span> CheckInRecord.guestId <span class="keyword">is</span> <span class="string">&#x27;客户编号,外键&#x27;</span></span><br><span class="line">            列       表名          列名</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--添加表注释</span></span><br><span class="line"><span class="keyword">comment</span> <span class="keyword">on</span> <span class="keyword">table</span> guestInfo <span class="keyword">is</span> <span class="string">&#x27;客户信息表&#x27;</span></span><br><span class="line">            表       表名</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="7-添加表之间的关联"><a href="#7-添加表之间的关联" class="headerlink" title="7.添加表之间的关联"></a>7.添加表之间的关联</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--创建表之间的关联   外键约束 fk-- foreign key</span></span><br><span class="line"><span class="comment">--子表到主表的关系：小蝌蚪找妈妈</span></span><br><span class="line"><span class="comment">--子表-room，主表-roomtype</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> room</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> fk_room_roomtype_typeid  <span class="comment">--外键约束名</span></span><br><span class="line"><span class="keyword">foreign</span> <span class="keyword">key</span>(typeid) <span class="comment">--约束外键</span></span><br><span class="line"><span class="keyword">references</span> roomtype(typeid);  <span class="comment">--关联到哪一张主表</span></span><br></pre></td></tr></table></figure>







<h3 id="4-数据字典"><a href="#4-数据字典" class="headerlink" title="4.数据字典"></a>4.数据字典</h3><h4 id="1-all-tables"><a href="#1-all-tables" class="headerlink" title="1. all_tables"></a>1. all_tables</h4><ul>
<li>查询所有的表</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> all_tables</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> all_tables</span><br><span class="line"><span class="keyword">where</span> owner=<span class="string">&#x27;SCOTT&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="2-all-tab-columns"><a href="#2-all-tab-columns" class="headerlink" title="2. all_tab_columns"></a>2. all_tab_columns</h4><ul>
<li>查询所有表数据列的信息</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> all_tab_columns</span><br><span class="line"><span class="keyword">where</span> owner=<span class="string">&#x27;SCOTT&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>3.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--客房类型表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> roomType (</span><br><span class="line">       typeId <span class="built_in">number</span>(<span class="number">4</span>) <span class="keyword">not</span> <span class="literal">null</span> primary <span class="keyword">key</span>,</span><br><span class="line">       typeName <span class="keyword">nvarchar2</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">       bednum <span class="built_in">number</span>(<span class="number">4</span>),</span><br><span class="line">       price <span class="built_in">number</span>(<span class="number">5</span>,<span class="number">2</span>)</span><br><span class="line">       </span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">--客房信息表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> roomInfo(</span><br><span class="line">       roomId <span class="built_in">number</span>(<span class="number">4</span>) <span class="keyword">not</span> <span class="literal">null</span> primary <span class="keyword">key</span>,</span><br><span class="line">       roomRemark <span class="keyword">nvarchar2</span>(<span class="number">50</span>) ,</span><br><span class="line">       typeId <span class="built_in">number</span>(<span class="number">4</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">       roomStateId <span class="built_in">number</span>(<span class="number">5</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">       guestCount <span class="built_in">number</span>(<span class="number">2</span>)</span><br><span class="line">       </span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">--客房状态表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> roomstate(</span><br><span class="line">       roomStateId <span class="built_in">number</span>(<span class="number">5</span>) <span class="keyword">not</span> <span class="literal">null</span> primary <span class="keyword">key</span>,</span><br><span class="line">       stateInfo <span class="keyword">nvarchar2</span>(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--入住记录</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> CheckInRecord(</span><br><span class="line">       recordId <span class="built_in">number</span>(<span class="number">4</span>) <span class="keyword">not</span> <span class="literal">null</span> primary <span class="keyword">key</span>,</span><br><span class="line">       guestId <span class="built_in">number</span>(<span class="number">5</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">       deposit <span class="built_in">number</span>(<span class="number">3</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">       checkInDate <span class="built_in">date</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">       leaveDate <span class="built_in">date</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">       roomId <span class="built_in">number</span>(<span class="number">4</span>) <span class="keyword">not</span> <span class="literal">null</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">--客户信息</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> guestInfo(</span><br><span class="line">       guestId <span class="built_in">number</span>(<span class="number">5</span>) <span class="keyword">not</span> <span class="literal">null</span> primary <span class="keyword">key</span>,</span><br><span class="line">       guestName <span class="keyword">nvarchar2</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">       identityCard <span class="keyword">nvarchar2</span>(<span class="number">18</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">       gender <span class="built_in">char</span>(<span class="number">1</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">       address <span class="keyword">nvarchar2</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">       mobileNumber <span class="built_in">number</span>(<span class="number">11</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">       email <span class="keyword">nvarchar2</span>(<span class="number">30</span>) <span class="keyword">not</span> <span class="literal">null</span> </span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">--添加列注释</span></span><br><span class="line"><span class="keyword">comment</span> <span class="keyword">on</span> <span class="keyword">column</span> CheckInRecord.guestId <span class="keyword">is</span> <span class="string">&#x27;客户编号,外键&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--添加表注释</span></span><br><span class="line"><span class="keyword">comment</span> <span class="keyword">on</span> <span class="keyword">table</span> guestInfo <span class="keyword">is</span> <span class="string">&#x27;客户信息表&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--修改表结构</span></span><br><span class="line"><span class="comment">--给客户信息表增加会员卡号一列 alter</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> guestInfo</span><br><span class="line"><span class="keyword">add</span>(menbercard <span class="built_in">char</span>(<span class="number">10</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">--修改表名</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> guestInfo <span class="keyword">rename</span> <span class="keyword">to</span> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--删除数据表的约束-主键</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> roomtype1</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">constraint</span> </span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> roomtype1(</span><br><span class="line"> </span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--创建表之间的关联</span></span><br><span class="line"><span class="comment">--子表到主表的关系：小蝌蚪找妈妈</span></span><br><span class="line"><span class="comment">--子表-room，主表-roomtype</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> room</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> fk_room_roomtype_typeid</span><br><span class="line"><span class="keyword">foreign</span> <span class="keyword">key</span>(typeid)</span><br><span class="line"><span class="keyword">references</span> roomtype(typeid);</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="8-merge"><a href="#8-merge" class="headerlink" title="8.merge"></a>8.merge</h2><p>用来对数据表的备份，还原操作</p>
<h3 id="1-merge-into-合并"><a href="#1-merge-into-合并" class="headerlink" title="1.merge into (合并)"></a>1.merge into (合并)</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--创建备份表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> emp_jay <span class="keyword">as</span> </span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> emp_jay_temp <span class="keyword">as</span> </span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp_jay</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li></li>
<li></li>
<li></li>
<li><strong>将原表中删除的数据恢复</strong></li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 有则更新，无则插入</span></span><br><span class="line"><span class="comment">-- 操作一个对象A的时候，需要另外一个结果集B做数据源</span></span><br><span class="line"><span class="comment">-- 将B中的数据与A中的数据按照一定的条件C来进行对比</span></span><br><span class="line"><span class="comment">-- 如果A中的条件满足C条件，则进行update更新操作</span></span><br><span class="line"><span class="comment">-- 如果不满足，则进行插入操作。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除一部分数据</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">where</span> empno <span class="keyword">in</span> (<span class="number">100</span>,<span class="number">1025</span>,<span class="number">6182</span>);</span><br><span class="line"><span class="comment">-- 恢复被删除的数据</span></span><br><span class="line"><span class="keyword">merge</span> <span class="keyword">into</span> emp_jay a  <span class="comment">--要恢复的表</span></span><br><span class="line"><span class="keyword">using</span> emp_jay_temp b  <span class="comment">--数据源</span></span><br><span class="line"><span class="keyword">on</span> (a.empno = b.empno)</span><br><span class="line"><span class="keyword">when</span> <span class="keyword">not</span> <span class="keyword">matched</span> <span class="keyword">then</span></span><br><span class="line">  <span class="keyword">insert</span></span><br><span class="line">  <span class="keyword">values</span></span><br><span class="line">    (b.empno,</span><br><span class="line">     b.ename,</span><br><span class="line">     b.job,</span><br><span class="line">     b.mgr,</span><br><span class="line">     b.hiredate,</span><br><span class="line">     b.sal,</span><br><span class="line">     b.comm,</span><br><span class="line">     b.deptno);</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<ul>
<li><strong>将原表中新增的数据备份到备份表中</strong></li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--插入新数据</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp_jay(empno,ename,job)</span><br><span class="line"><span class="keyword">values</span>(<span class="number">4444</span>,<span class="string">&#x27;张三&#x27;</span>,<span class="string">&#x27;Java&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">merge</span> <span class="keyword">into</span> emp_jay_temp a <span class="comment">--备份表</span></span><br><span class="line"><span class="keyword">using</span> emp_jay b  <span class="comment">--数据源,原表</span></span><br><span class="line"><span class="keyword">on</span> (a.empno = b.empno)</span><br><span class="line"><span class="keyword">when</span> <span class="keyword">not</span> <span class="keyword">matched</span> <span class="keyword">then</span> </span><br><span class="line"><span class="keyword">insert</span></span><br><span class="line"><span class="keyword">values</span>(b.empno,b.ename,</span><br><span class="line">       b.job,b.mgr,b.hiredate,</span><br><span class="line">       b.sal,b.comm,b.deptno);</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<ul>
<li>原表进行了修改，更新备份表中数据</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--准备</span></span><br><span class="line"><span class="keyword">update</span> emp_jay</span><br><span class="line"><span class="keyword">set</span> sal = <span class="number">100</span></span><br><span class="line"><span class="keyword">where</span> empno = <span class="number">4444</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 备份数据的时候，岗位名称为java的工资不要更新</span></span><br><span class="line"><span class="keyword">merge</span> <span class="keyword">into</span> emp_jay_temp a</span><br><span class="line"><span class="keyword">using</span> emp_jay b</span><br><span class="line"><span class="keyword">on</span> (a.empno = b.empno)</span><br><span class="line"><span class="keyword">when</span> <span class="keyword">matched</span> <span class="keyword">then</span> </span><br><span class="line"><span class="keyword">update</span></span><br><span class="line"><span class="keyword">set</span> a.sal = b.sal</span><br><span class="line"><span class="keyword">where</span> a.job&lt;&gt;<span class="string">&#x27;java&#x27;</span> <span class="comment">--若没有这个条件将会全表更新</span></span><br></pre></td></tr></table></figure>



<h2 id="9-约束"><a href="#9-约束" class="headerlink" title="9.约束"></a>9.约束</h2><h3 id="1-主键约束-Primay-Key-Coustraint"><a href="#1-主键约束-Primay-Key-Coustraint" class="headerlink" title="1.主键约束(Primay Key Coustraint)"></a>1.主键约束(Primay Key Coustraint)</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 添加主键约束，pk--primary key</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> roomtype</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> pk_roomtype_typeid <span class="comment">-- 主键约束名</span></span><br><span class="line">primary <span class="keyword">key</span>(typeid);  <span class="comment">--指定约束的列</span></span><br></pre></td></tr></table></figure>



<h3 id="2-删除约束"><a href="#2-删除约束" class="headerlink" title="2.删除约束"></a>2.删除约束</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 删除约束</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> emp_jay</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">constraint</span> ck_empjay_sal;<span class="comment">--删除emp_jay表中约束名为ck_empjay_sal的约束</span></span><br></pre></td></tr></table></figure>



<h3 id="3-检查约束-Check-Counstraint"><a href="#3-检查约束-Check-Counstraint" class="headerlink" title="3.检查约束(Check Counstraint)"></a>3.检查约束(Check Counstraint)</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建检查约束，员工工资大于0</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> emp_jay</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> ck_empjay_sal <span class="keyword">check</span>(sal&gt;=<span class="number">0</span>);</span><br><span class="line"><span class="comment">--在插入数据是，工资不能&lt;0</span></span><br></pre></td></tr></table></figure>





<h3 id="4-唯一约束-Unique-Counstraint"><a href="#4-唯一约束-Unique-Counstraint" class="headerlink" title="4.唯一约束(Unique Counstraint)"></a>4.唯一约束(Unique Counstraint)</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 给emp_jay表添加性别列 gender nchar(2)</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> emp_jay</span><br><span class="line"><span class="keyword">add</span> gender <span class="keyword">nchar</span>(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 添加性别约束 只能输入 男 或者 女</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> emp_jay</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> ck_empjay_gender </span><br><span class="line"><span class="keyword">check</span>(gender=<span class="string">&#x27;男&#x27;</span> <span class="keyword">or</span> gender=<span class="string">&#x27;女&#x27;</span>);</span><br></pre></td></tr></table></figure>





<h3 id="5-默认约束-Default-Counstraint"><a href="#5-默认约束-Default-Counstraint" class="headerlink" title="5.默认约束(Default Counstraint)"></a>5.默认约束(Default Counstraint)</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 给emp_jay表添加身份证号列 idcard char(18)</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> emp_jay</span><br><span class="line"><span class="keyword">add</span> idcard <span class="built_in">char</span>(<span class="number">18</span>);</span><br><span class="line"><span class="comment">-- 给 idcard 添加唯一约束</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> emp_jay</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> uq_empjay_idcard <span class="keyword">unique</span>(idcard);</span><br><span class="line"><span class="comment">-- 唯一，跟其他列的数据值是不相等的，可以为空</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 给性别列添加默认值约束 alter table 表名 modify 字段名 default 默认值;</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> emp_jay</span><br><span class="line"><span class="keyword">modify</span> gender <span class="keyword">default</span> <span class="string">&#x27;男&#x27;</span>;</span><br></pre></td></tr></table></figure>





<h3 id="6-外键约束-Foreign-Key-Counstraint"><a href="#6-外键约束-Foreign-Key-Counstraint" class="headerlink" title="6.外键约束(Foreign Key Counstraint)"></a>6.外键约束(Foreign Key Counstraint)</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--创建表之间的关联   外键约束 fk-- foreign key</span></span><br><span class="line"><span class="comment">--子表到主表的关系：小蝌蚪找妈妈</span></span><br><span class="line"><span class="comment">--子表-room，主表-roomtype</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> room</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> fk_room_roomtype_typeid  <span class="comment">--外键约束名</span></span><br><span class="line"><span class="keyword">foreign</span> <span class="keyword">key</span>(typeid) <span class="comment">--约束外键</span></span><br><span class="line"><span class="keyword">references</span> roomtype(typeid);  <span class="comment">--关联到哪一张主表</span></span><br></pre></td></tr></table></figure>



<h2 id="10-用户操作"><a href="#10-用户操作" class="headerlink" title="10.用户操作"></a>10.用户操作</h2><h3 id="1-创建用户"><a href="#1-创建用户" class="headerlink" title="1.创建用户"></a>1.创建用户</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--创建用户</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> jay <span class="keyword">identified</span> <span class="keyword">by</span> <span class="number">123456</span></span><br><span class="line"><span class="comment">--查看所有用户</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> all_users</span><br></pre></td></tr></table></figure>



<h3 id="2-授予权限"><a href="#2-授予权限" class="headerlink" title="2.授予权限"></a>2.授予权限</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--添加登录权限</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">create</span> <span class="keyword">session</span> <span class="keyword">to</span> jay;</span><br><span class="line"><span class="comment">--创建表权限</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">to</span> jay;</span><br><span class="line"><span class="comment">-- 创建视图的权限</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">create</span> <span class="keyword">view</span> <span class="keyword">to</span> jay;</span><br><span class="line"><span class="comment">-- 创建存储过程 </span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span></span><br><span class="line"><span class="comment">-- 创建序列     </span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">sequence</span></span><br><span class="line"><span class="comment">-- 分配表空间给用户</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">user</span> jay <span class="keyword">quota</span> <span class="number">2</span>m <span class="keyword">on</span> <span class="keyword">users</span>;<span class="comment">--分配2兆的表空间给用户jay</span></span><br><span class="line"><span class="comment">-- 查看当前用户的所有权限</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> session_privs;</span><br><span class="line"><span class="comment">-- 查询某用户所拥有的对象的操作权限;</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> user_tab_privs;</span><br></pre></td></tr></table></figure>



<h3 id="3-角色"><a href="#3-角色" class="headerlink" title="3.角色"></a>3.角色</h3><ol>
<li><p>创建角色</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建角色</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">role</span> mydev;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>分配权限</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> <span class="keyword">create</span> <span class="keyword">session</span> <span class="keyword">to</span> mydev;</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">to</span> mydev;</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">create</span> <span class="keyword">view</span> <span class="keyword">to</span> mydev;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>创建新用户</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> tony <span class="keyword">identified</span> <span class="keyword">by</span> <span class="number">123456</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>为用户赋予角色mydev</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> mydev <span class="keyword">to</span> tony;</span><br></pre></td></tr></table></figure>

<p><strong>这样tony就拥有了角色mydev的所有权限而不用再一一赋权限给tony</strong></p>
</li>
<li><p>查看某角色的所有权限</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> role_sys_privs</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">role</span>=<span class="string">&#x27;MYDEV&#x27;</span>;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="4-跨表权限授予"><a href="#4-跨表权限授予" class="headerlink" title="4.跨表权限授予"></a>4.跨表权限授予</h3><ol>
<li><p>某用户把自己的权限赋予给其他用户</p>
<p>把当前用户的数据库对象-比如表的查询权限授权给jay</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> <span class="keyword">select</span> <span class="keyword">on</span> emp <span class="keyword">to</span> jay;</span><br></pre></td></tr></table></figure>
</li>
<li><p>管理员把某用户的权限给其他用户</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--管理员把scott下的dept表的select，update权限赋予给tony</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">select</span>,<span class="keyword">update</span> <span class="keyword">on</span> scott.dept <span class="keyword">to</span> tony;</span><br></pre></td></tr></table></figure>
</li>
<li><p>权限传递</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--加了with grant option，jay表也可以将这些权限传给第三者</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">select</span> <span class="keyword">on</span> scott.dept <span class="keyword">to</span> jay</span><br><span class="line"><span class="keyword">with</span> <span class="keyword">grant</span> <span class="keyword">option</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="5-权限收回"><a href="#5-权限收回" class="headerlink" title="5.权限收回"></a>5.权限收回</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--收回用户jay的create view权限</span></span><br><span class="line"><span class="keyword">revoke</span> <span class="keyword">create</span> <span class="keyword">view</span> <span class="keyword">from</span> jay;</span><br></pre></td></tr></table></figure>

<h3 id="6-删除账户"><a href="#6-删除账户" class="headerlink" title="6.删除账户"></a>6.删除账户</h3><ol>
<li><p>账户没有创建表或者其他数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 删除账户</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">user</span> jay;</span><br></pre></td></tr></table></figure>
</li>
<li><p>该账户有数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 删除账户</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">user</span> jay <span class="keyword">cascade</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>A账户创建表test后，把表的操作权限授权给了B<br>A账户所有信息被删除后，B还能操作A的test表</p>
</li>
<li><p>用户加锁，用户解锁</p>
<p>备注：账户被锁定后，<br>– 如果其他用户，拥有该账户的相关对象的有些权限<br>– 则其他用户仍然可以操作这些对象<br>alter user scott account lock;<br>alter user scott account unlock</p>
</li>
</ol>
<h2 id="11-视图"><a href="#11-视图" class="headerlink" title="11.视图"></a>11.视图</h2><h3 id="1-视图的好处"><a href="#1-视图的好处" class="headerlink" title="1.视图的好处"></a>1.视图的好处</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">视图 view, 不是表，是张虚拟表</span><br><span class="line">目的是从原始表中获取相关的信息</span><br><span class="line">视图里存的是sql语句</span><br><span class="line">不占存储空间</span><br><span class="line">表删除后视图也不存在</span><br></pre></td></tr></table></figure>

<h3 id="2-创建视图权限"><a href="#2-创建视图权限" class="headerlink" title="2.创建视图权限"></a>2.创建视图权限</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查看当前用户的所有权限</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> session_privs;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 给用户授权创建视图的权限</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">create</span> <span class="keyword">view</span> <span class="keyword">to</span> scott;</span><br></pre></td></tr></table></figure>

<h3 id="3-创建视图"><a href="#3-创建视图" class="headerlink" title="3.创建视图"></a>3.创建视图</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> v$emp_sal</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> empno, ename, sal, comm <span class="keyword">from</span> emp; </span><br></pre></td></tr></table></figure>

<h3 id="4-视图查询"><a href="#4-视图查询" class="headerlink" title="4.视图查询"></a>4.视图查询</h3><ul>
<li>两个都会被同步修改</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> v$emp_sal;</span><br><span class="line"><span class="comment">-- 修改原始表数据</span></span><br><span class="line"><span class="keyword">update</span> emp <span class="keyword">set</span> sal = <span class="number">1000</span></span><br><span class="line"><span class="keyword">where</span> ename=<span class="string">&#x27;SCOTT&#x27;</span>;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> v$emp_sal;</span><br><span class="line"><span class="comment">-- 通过视图修改</span></span><br><span class="line"><span class="keyword">update</span> v$emp_sal <span class="keyword">set</span> sal = <span class="number">1100</span></span><br><span class="line"><span class="keyword">where</span> ename=<span class="string">&#x27;SMITH&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="4-别名"><a href="#4-别名" class="headerlink" title="4.别名"></a>4.别名</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> v$emp_sal_1</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> empno, ename, sal <span class="keyword">as</span> salary, comm <span class="keyword">from</span> emp; </span><br></pre></td></tr></table></figure>

<h3 id="5-删除"><a href="#5-删除" class="headerlink" title="5.删除"></a>5.删除</h3><ul>
<li>视图原表也会被删除</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 通过视图删除数据</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> v$emp_sal</span><br><span class="line"><span class="keyword">where</span> ename=<span class="string">&#x27;TONY&#x27;</span>;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> v$emp_sal;</span><br></pre></td></tr></table></figure>



<h3 id="6-新增"><a href="#6-新增" class="headerlink" title="6.新增"></a>6.新增</h3><ul>
<li><p>原表只能增加视图中有的列的数据，其他列的数据不能从视图增加</p>
</li>
<li><pre><code class="sql">insert into v$emp_sal(empno,ename,sal,comm)
values(7903,&#39;test&#39;,0,0);
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* </span><br><span class="line"></span><br><span class="line">### 7.只读视图</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;sql</span><br><span class="line">-- create or replace 创建或修改</span><br><span class="line">create view v$emp_sal</span><br><span class="line">as</span><br><span class="line">select empno, ename, sal, comm from emp</span><br><span class="line">with read only;</span><br></pre></td></tr></table></figure>


</code></pre>
</li>
</ul>
<h3 id="8-删除视图"><a href="#8-删除视图" class="headerlink" title="8.删除视图"></a>8.删除视图</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">view</span> v$emp_sal;</span><br></pre></td></tr></table></figure>





<h2 id="12-索引"><a href="#12-索引" class="headerlink" title="12.索引"></a>12.索引</h2><p>看另外一个</p>
<h2 id="13-事务"><a href="#13-事务" class="headerlink" title="13.事务"></a>13.事务</h2><h3 id="1-含义"><a href="#1-含义" class="headerlink" title="1.含义"></a>1.含义</h3><ul>
<li>所有操作必须成功完成，</li>
<li>否则在每个操作中所作的所有更改都会被撤消。也就是事务具有原子性</li>
<li>一个事务中的一系列的操作要么全部成功，要么一个都不做。</li>
</ul>
<h3 id="2-特征"><a href="#2-特征" class="headerlink" title="2.特征"></a>2.特征</h3><ol>
<li>原子性：整个事务中的所有操作要么全部完成，要么全部不完成。不可能停滞在中间某个环节。食物在执行过程中发生错误会被回滚(Rollback)到事务开始前的状态,就像这个事务从没执行过一样</li>
<li>一致性：在事务开始之前和事务结束以后，数据库的完整性约束没有被破坏</li>
<li>隔离性：隔离状态执行事务当多个用户并发访问数据库时，比如操作同一张表时，数据库为每一个用户开启的事务，不能被其他事务的操作所干扰，多个并发事务之间要相互隔离。即要达到这么一种效果：对于任意两个并发的事务T1和T2，在事务T1看来，T2要么在T1开始之前就已经结束，要么在T1结束之后才开始，这样每个事务都感觉不到有其他事务在并发地执行。</li>
<li>在事务完成以后，该事务所对数据库所做的更改应持久的保存在数据库中，并不会被回滚。</li>
</ol>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/ljqnsn.io/tags/Linux%E5%8F%8A%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9/" rel="tag"># Linux及相关内容</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/ljqnsn.io/2021/05/11/JAVA/" rel="prev" title="JAVA">
      <i class="fa fa-chevron-left"></i> JAVA
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



        </div>
        

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script>

<script src="/ljqnsn.io/js/utils.js"></script>

<script src="/ljqnsn.io/js/motion.js"></script>


<script src="/ljqnsn.io/js/schemes/muse.js"></script>


<script src="/ljqnsn.io/js/next-boot.js"></script>


  















  

  

</body>
</html>
